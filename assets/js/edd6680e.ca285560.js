"use strict";(self.webpackChunktarget_machines_write_up=self.webpackChunktarget_machines_write_up||[]).push([[3457],{57299:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>u,frontMatter:()=>i,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"Independent-Environment/RedLabs/AllLabs/StorageAccount02/index","title":"Storage Account 02 - Subdomain Enumeration","description":"Subdomain Enumeration","source":"@site/docs/Independent-Environment/RedLabs/AllLabs/StorageAccount02/index.md","sourceDirName":"Independent-Environment/RedLabs/AllLabs/StorageAccount02","slug":"/Independent-Environment/RedLabs/AllLabs/StorageAccount02/","permalink":"/Target-Machines-WriteUp/docs/Independent-Environment/RedLabs/AllLabs/StorageAccount02/","draft":false,"unlisted":false,"editUrl":"https://github.com/TryHackMyOffsecBox/Target-Machines-WriteUp/edit/main/docs/Independent-Environment/RedLabs/AllLabs/StorageAccount02/index.md","tags":[],"version":"current","frontMatter":{},"sidebar":"Independent_Environment_Sidebar","previous":{"title":"Logic App 16 - Sensitive Info in Workflow","permalink":"/Target-Machines-WriteUp/docs/Independent-Environment/RedLabs/AllLabs/LogicApp16/"},"next":{"title":"Storage Account 14 - Minting SAS URI","permalink":"/Target-Machines-WriteUp/docs/Independent-Environment/RedLabs/AllLabs/StorageAccount14/"}}');var s=t(74848),r=t(28453);const i={},a="Storage Account 02 - Subdomain Enumeration",c={},d=[];function l(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h1:"h1",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components},{Details:o}=n;return o||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"storage-account-02---subdomain-enumeration",children:"Storage Account 02 - Subdomain Enumeration"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Subdomain Enumeration"}),"\n"]}),"\n",(0,s.jsxs)(n.admonition,{type:"info",children:[(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Scenario"})}),(0,s.jsx)(n.p,{children:"The storage account is a service provided by Azure to store data. Since, a storage account has a globally unique name it is possible to perform subdomain enumeration and access storage account containers that have anonymous access enabled on them. Find one using the provided wordlist and obtain a flag."}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Overview"})}),(0,s.jsx)(n.p,{children:"What is anonymous blob or container access?"}),(0,s.jsx)(n.p,{children:'Azure Blob Storage provides the user settings to enable public access to individual blobs or containers. Setting the access level of a container or blob to "Public Blob" or "Public Container" allows anonymous read access to the resources.'}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Hint"})}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Storage containers and blobs can be accessed anonymously."}),"\n"]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Impact"})}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"A lot of companies allow anonymous container access which could cause unauthorized access to data, data leakage, and malicious activity. In some cases due to lack of accountability in anonymous access, it becomes difficult to identify the source of unauthorized access to the resource, which can hinder incident response and forensic investigations during security incidents."}),"\n",(0,s.jsx)(n.li,{children:"Enabling anonymous access may introduce compliance and regulatory challenges, especially if the data stored in the container is subject to specific regulations or data protection requirements."}),"\n"]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Reference"})}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://learn.microsoft.com/en-us/azure/storage/blobs/storage-blobs-introduction",children:"Storage Blob Docs"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/NetSPI/MicroBurst/tree/master",children:"Microburst"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://azure.microsoft.com/en-in/products/storage/storage-explorer",children:"torage Explorer"})}),"\n"]})]}),"\n",(0,s.jsx)(n.p,{children:"\u4e0b\u8f7d\u5b8c\u5b57\u5178\u6587\u4ef6\uff0c\u7206\u7834\u5c31\u5b8c\u4e8b\u4e86"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-powershell",children:'PS D:\\_Tools\\MicroBurst> Import-Module .\\MicroBurst.psm1\nImported Az MicroBurst functions\nAzureAD module not installed, checking other modules\nMSOnline module not installed, checking other modules\nImported Misc MicroBurst functions\nImported Azure REST API MicroBurst functions\n\nPS D:\\_Tools\\MicroBurst> cd D:\\Downloads\\\nPS D:\\Downloads> Invoke-EnumerateAzureBlobs -Permutations ".\\wordlist.txt" -Folders ".\\wordlist.txt"\nFound Storage Account -  asbmprcz736.blob.core.windows.net\n\nFound Container - asbmprcz736.blob.core.windows.net/asbmprcz736\n'})}),"\n",(0,s.jsx)(n.p,{children:"\u8fde\u63a5\u5373\u53ef"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"img",src:t(28583).A+"",width:"1968",height:"1332"})}),"\n",(0,s.jsxs)(n.admonition,{title:"Flags",type:"info",children:[(0,s.jsxs)(o,{children:[(0,s.jsx)("summary",{children:" What technique did we use to find the storage account name? (subdomain enumeration or email harvesting) "}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-plaintext",children:"subdomain enumeration\n"})})]}),(0,s.jsxs)(o,{children:[(0,s.jsx)("summary",{children:"  What is the flag value? "}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-plaintext",children:"ashpuxvs736asyszqgp736\n"})})]})]})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},28583:(e,n,t)=>{t.d(n,{A:()=>o});const o=t.p+"assets/images/image_20260114-231444-1c8f5597ac7ab1043ff08d5e93abe67a.png"},28453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>a});var o=t(96540);const s={},r=o.createContext(s);function i(e){const n=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),o.createElement(r.Provider,{value:n},e.children)}}}]);