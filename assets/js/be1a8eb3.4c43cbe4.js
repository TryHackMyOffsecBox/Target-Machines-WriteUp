"use strict";(self.webpackChunktarget_machines_write_up=self.webpackChunktarget_machines_write_up||[]).push([[8305],{5815:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>o,contentTitle:()=>i,default:()=>x,frontMatter:()=>s,metadata:()=>d,toc:()=>c});var a=n(85893),t=n(11151);const s={},i="The Needle",d={id:"HackTheBox/Challenges/Hardware/The Needle/index",title:"The Needle",description:"VERY EASY",source:"@site/docs/HackTheBox/Challenges/Hardware/The Needle/index.md",sourceDirName:"HackTheBox/Challenges/Hardware/The Needle",slug:"/HackTheBox/Challenges/Hardware/The Needle/",permalink:"/Target-Machines-WriteUp/docs/HackTheBox/Challenges/Hardware/The Needle/",draft:!1,unlisted:!1,editUrl:"https://github.com/TryHackMyOffsecBox/Target-Machines-WriteUp/edit/main/docs/HackTheBox/Challenges/Hardware/The Needle/index.md",tags:[],version:"current",frontMatter:{},sidebar:"HackTheBox_Sidebar",previous:{title:"Photon Lockdown",permalink:"/Target-Machines-WriteUp/docs/HackTheBox/Challenges/Hardware/Photon Lockdown/"},next:{title:"Misc",permalink:"/Target-Machines-WriteUp/docs/category/HackTheBox-Challenges Misc"}},o={},c=[];function l(e){const r={admonition:"admonition",code:"code",h1:"h1",p:"p",pre:"pre",...(0,t.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.h1,{id:"the-needle",children:"The Needle"}),"\n",(0,a.jsxs)(r.admonition,{title:"CHALLENGE DESCRIPTION",type:"note",children:[(0,a.jsx)(r.p,{children:"VERY EASY"}),(0,a.jsx)(r.p,{children:"As a part of our SDLC process, we've got our firmware ready for security testing. Can you help us by performing a security assessment?"})]}),"\n",(0,a.jsxs)(r.p,{children:["\u5c1d\u8bd5\u4f7f\u7528 ",(0,a.jsx)(r.code,{children:"binwalk"})," \u8fdb\u884c\u56fa\u4ef6\u5206\u6790"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-shell",children:"\u250c\u2500\u2500(randark \u327f kali)-[~/tmp]\n\u2514\u2500$ binwalk firmware.bin\n\nDECIMAL       HEXADECIMAL     DESCRIPTION\n--------------------------------------------------------------------------------\n0             0x0             Linux kernel ARM boot executable zImage (big-endian)\n14419         0x3853          xz compressed data\n14640         0x3930          xz compressed data\n538952        0x83948         Squashfs filesystem, little endian, version 4.0, compression:xz, size: 2068458 bytes, 995 inodes, blocksize: 262144 bytes, created: 2021-03-11 03:18:10\n"})}),"\n",(0,a.jsx)(r.p,{children:"\u5c06\u5176\u5168\u90e8\u8fdb\u884c\u89e3\u5305"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-shell",children:"\u250c\u2500\u2500(randark \u327f kali)-[~/tmp]\n\u2514\u2500$ binwalk -e firmware.bin\n\nDECIMAL       HEXADECIMAL     DESCRIPTION\n--------------------------------------------------------------------------------\n0             0x0             Linux kernel ARM boot executable zImage (big-endian)\n14419         0x3853          xz compressed data\n14640         0x3930          xz compressed data\n\nWARNING: Extractor.execute failed to run external extractor 'sasquatch -p 1 -le -d'squashfs-root-0''%e'': [Errno 2] No such file or directory: 'sasquatch', 'sasquatch -p 1 -le -d'squashfs-root-0''%e'' might not be installed correctly\n\nWARNING: Extractor.execute failed to run external extractor 'sasquatch -p 1 -be -d'squashfs-root-0''%e'': [Errno 2] No such file or directory: 'sasquatch', 'sasquatch -p 1 -be -d'squashfs-root-0''%e'' might not be installed correctly\n\nWARNING: Symlink points outside of the extraction directory: /home/randark/tmp/_firmware.bin.extracted/squashfs-root/var -> /tmp; changing link target to /dev/null for security purposes.\n\nWARNING: Symlink points outside of the extraction directory: /home/randark/tmp/_firmware.bin.extracted/squashfs-root/etc/TZ -> /tmp/TZ; changing link target to /dev/null for security purposes.\n\nWARNING: Symlink points outside of the extraction directory: /home/randark/tmp/_firmware.bin.extracted/squashfs-root/etc/localtime -> /tmp/localtime; changing link target to /dev/null for security purposes.\n\nWARNING: Symlink points outside of the extraction directory: /home/randark/tmp/_firmware.bin.extracted/squashfs-root/etc/resolv.conf -> /tmp/resolv.conf; changing link target to /dev/null for security purposes.\n\nWARNING: Symlink points outside of the extraction directory: /home/randark/tmp/_firmware.bin.extracted/squashfs-root/etc/mtab -> /proc/1366/mounts; changing link target to /dev/null for security purposes.\n\nWARNING: Symlink points outside of the extraction directory: /home/randark/tmp/_firmware.bin.extracted/squashfs-root/etc/ppp/resolv.conf -> /tmp/resolv.conf.ppp; changing link target to /dev/null for security purposes.\n538952        0x83948         Squashfs filesystem, little endian, version 4.0, compression:xz, size: 2068458 bytes, 995 inodes, blocksize: 262144 bytes, created: 2021-03-11 03:18:10\n"})}),"\n",(0,a.jsx)(r.p,{children:"\u89e3\u538b\u540e\u5f97\u5230"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-shell",children:"\u250c\u2500\u2500(randark \u327f kali)-[~/tmp/_firmware.bin.extracted]\n\u2514\u2500$ lh\ntotal 36M\n-rw-r--r--  1 randark randark  16M Mar 10 22:46 3853.xz\n-rw-r--r--  1 randark randark 1.4M Mar 10 22:46 3930\n-rw-r--r--  1 randark randark  16M Mar 10 22:46 3930.xz\n-rw-r--r--  1 randark randark 2.0M Mar 10 22:46 83948.squashfs\ndrwxr-xr-x 16 randark randark 4.0K Mar 10 22:46 squashfs-root\ndrwxr-xr-x  2 randark randark 4.0K Mar 10 22:46 squashfs-root-0\n"})}),"\n",(0,a.jsx)(r.p,{children:"\u8fdb\u800c\u627e\u5230\u56fa\u4ef6\u7684\u76ee\u5f55"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-shell",children:"\u250c\u2500\u2500(randark \u327f kali)-[~/tmp/_firmware.bin.extracted/squashfs-root]\n\u2514\u2500$ lh\ntotal 56K\ndrwxr-xr-x  2 randark randark 4.0K Mar  9  2021 bin\ndrwxr-xr-x  2 randark randark 4.0K Feb 21  2017 dev\ndrwxr-xr-x 18 randark randark 4.0K Mar 10 22:46 etc\ndrwxr-xr-x 11 randark randark 4.0K Mar  9  2021 lib\ndrwxr-xr-x  2 randark randark 4.0K Feb 21  2017 mnt\ndrwxr-xr-x  2 randark randark 4.0K Feb 21  2017 overlay\ndrwxr-xr-x  2 randark randark 4.0K Feb 21  2017 proc\ndrwxr-xr-x  2 randark randark 4.0K Feb 21  2017 rom\ndrwxr-xr-x  2 randark randark 4.0K Feb 21  2017 root\ndrwxr-xr-x  2 randark randark 4.0K Mar  9  2021 sbin\ndrwxr-xr-x  2 randark randark 4.0K Feb 21  2017 sys\ndrwxrwxrwt  2 randark randark 4.0K Feb 21  2017 tmp\ndrwxr-xr-x  7 randark randark 4.0K Feb 21  2017 usr\nlrwxrwxrwx  1 randark randark    9 Mar 10 22:46 var -> /dev/null\ndrwxr-xr-x  4 randark randark 4.0K Feb 21  2017 www\n"})}),"\n",(0,a.jsxs)(r.p,{children:["\u5728 ",(0,a.jsx)(r.code,{children:"etc/config"})," \u6587\u4ef6\u5939\u4e2d\u53d1\u73b0"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-plaintext",metastring:'title="./etc/config/sign"',children:"qS6-X/n]u>fVfAt!\n"})}),"\n",(0,a.jsx)(r.p,{children:"\u540c\u65f6\u53d1\u73b0"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-shell",metastring:'title="./squashfs-root/etc/scripts/telnetd.sh"',children:'#!/bin/sh\nsign=`cat /etc/config/sign`\nTELNETD=`rgdb\nTELNETD=`rgdb -g /sys/telnetd`\nif ["$TELNETD" = "true"]; then\n        echo "Start telnetd ..." > /dev/console\n        if [-f "/usr/sbin/login"]; then\n                lf=`rgbd -i -g /runtime/layout/lanif`\n                telnetd -l "/usr/sbin/login" -u Device_Admin:$sign      -i $lf &\n        else\n                telnetd &\n        fi\nfi\n'})}),"\n",(0,a.jsx)(r.p,{children:"\u90a3\u4e48\u5c31\u5f97\u5230\u4e86\u4e00\u7ec4\u51ed\u636e"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-plaintext",children:"Device_Admin:qS6-X/n]u>fVfAt!\n"})}),"\n",(0,a.jsx)(r.p,{children:"\u5c1d\u8bd5\u4ea4\u4e92"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-shell",children:"\u250c\u2500\u2500(randark \u327f kali)-[~/tmp/_firmware.bin.extracted]\n\u2514\u2500$ nc 94.237.57.88 55437\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\nng-1332175-hwtheneedle-atb8k-796cfdbdd7-rvdts login: Device_Admin\nDevice_Admin\nPassword: qS6-X/n]u>fVfAt!\n\nng-1332175-hwtheneedle-atb8k-796cfdbdd7-rvdts:~$ ^[[49;50Rcat flag.txt\ncat flag.txt\nHTB{4_hug3_blund3r_d289a1_!!}\n"})}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-plaintext",metastring:'title="Flag"',children:"HTB{4_hug3_blund3r_d289a1_!!}\n"})})]})}function x(e={}){const{wrapper:r}={...(0,t.a)(),...e.components};return r?(0,a.jsx)(r,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}},11151:(e,r,n)=>{n.d(r,{Z:()=>d,a:()=>i});var a=n(67294);const t={},s=a.createContext(t);function i(e){const r=a.useContext(s);return a.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function d(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),a.createElement(s.Provider,{value:r},e.children)}}}]);