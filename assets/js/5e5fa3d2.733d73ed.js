"use strict";(self.webpackChunktarget_machines_write_up=self.webpackChunktarget_machines_write_up||[]).push([[9126],{35732:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>p,frontMatter:()=>r,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"Independent-Environment/RedLabs/LearningPaths/LOGIC APPS PWNER/LogicApp20/index","title":"Logic App 20 - Modify Workflow and Abuse Storage Table","description":"Modify Workflow and Abuse Storage Table","source":"@site/docs/Independent-Environment/RedLabs/LearningPaths/LOGIC APPS PWNER/LogicApp20/index.md","sourceDirName":"Independent-Environment/RedLabs/LearningPaths/LOGIC APPS PWNER/LogicApp20","slug":"/Independent-Environment/RedLabs/LearningPaths/LOGIC APPS PWNER/LogicApp20/","permalink":"/Target-Machines-WriteUp/docs/Independent-Environment/RedLabs/LearningPaths/LOGIC APPS PWNER/LogicApp20/","draft":false,"unlisted":false,"editUrl":"https://github.com/TryHackMyOffsecBox/Target-Machines-WriteUp/edit/main/docs/Independent-Environment/RedLabs/LearningPaths/LOGIC APPS PWNER/LogicApp20/index.md","tags":[],"version":"current","frontMatter":{},"sidebar":"Independent_Environment_Sidebar","previous":{"title":"Logic App 19 - Modify Workflow and Abuse Storage File","permalink":"/Target-Machines-WriteUp/docs/Independent-Environment/RedLabs/LearningPaths/LOGIC APPS PWNER/LogicApp19/"},"next":{"title":"Logic App 21 - Modify Workflow and Abuse Key Vault","permalink":"/Target-Machines-WriteUp/docs/Independent-Environment/RedLabs/LearningPaths/LOGIC APPS PWNER/LogicApp21/"}}');var s=i(74848),o=i(28453);const r={},a="Logic App 20 - Modify Workflow and Abuse Storage Table",c={},d=[];function l(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h1:"h1",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components},{Details:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"logic-app-20---modify-workflow-and-abuse-storage-table",children:"Logic App 20 - Modify Workflow and Abuse Storage Table"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Modify Workflow and Abuse Storage Table"}),"\n"]}),"\n",(0,s.jsxs)(n.admonition,{type:"info",children:[(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Scenario"})}),(0,s.jsx)(n.p,{children:"Sometimes the user whom we compromised can have permission to edit the workflow of the logic app. Abuse the permission of the user on the logic and read the flag from the table storage."}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Overview"})}),(0,s.jsx)(n.p,{children:"What is logic app workflow?"}),(0,s.jsx)(n.p,{children:"A logic app workflow is a visual representation and implementation of a business process or integration scenario in Azure Logic Apps. It defines the steps, actions, and conditions that are executed in a specific sequence to automate a particular workflow."}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Hint"})}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"make use of the storage table connector action."}),"\n"]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Impact"})}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"With appropriate permissions in the logic app we could manipulate the logic app to interact with other services and perform malicious activity."}),"\n"]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Reference"})}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://learn.microsoft.com/en-us/azure/logic-apps/logic-apps-overview",children:"Logic Apps Docs"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://learn.microsoft.com/en-us/azure/storage/tables/table-storage-overview",children:"Azure table storage Docs"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://learn.microsoft.com/en-us/connectors/azuretables/",children:"Azure Table Storage Connector"})}),"\n"]})]}),"\n",(0,s.jsx)(n.p,{children:"\u540c\u6837\u7684\uff0c\u9898\u76ee\u7ed9\u51fa\u4e86 UserCreds \u4fe1\u606f\uff0c\u767b\u9646\u540e\u67e5\u770b\u6240\u6709\u8d44\u6e90"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"img",src:i(61839).A+"",width:"2560",height:"1359"})}),"\n",(0,s.jsx)(n.p,{children:"\u540c\u6837\u7684\u6d41\u7a0b\uff0c\u8fdb\u5165 Logic app \u7684\u7f16\u8f91\u754c\u9762"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"img",src:i(15081).A+"",width:"2560",height:"1359"})}),"\n",(0,s.jsx)(n.p,{children:"\u6839\u636e\u9898\u76ee\u8981\u6c42\uff0c\u5728\u5176\u4e2d\u52a0\u5165\u5bf9 Azure \u8868\u50a8\u5b58\u7684\u64cd\u4f5c"}),"\n",(0,s.jsx)(n.p,{children:"\u6307\u5b9a\u76ee\u6807\u7684\u8d44\u6e90"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"img",src:i(89274).A+"",width:"2560",height:"1359"})}),"\n",(0,s.jsx)(n.p,{children:"\u5c06\u83b7\u5f97\u7684\u6570\u636e\u6dfb\u52a0\u5230\u8fd4\u56de\u4e2d"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"img",src:i(35767).A+"",width:"2560",height:"1359"})}),"\n",(0,s.jsx)(n.p,{children:"\u4fdd\u5b58\u540e\uff0c\u89e6\u53d1 Logic app"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"img",src:i(99465).A+"",width:"1854",height:"1167"})}),"\n",(0,s.jsxs)(n.admonition,{title:"Flags",type:"info",children:[(0,s.jsxs)(t,{children:[(0,s.jsx)("summary",{children:" Which storage table logic app connector (ignore the version) did we use to fetch the flag? (Get entities or Get file content) "}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-plaintext",children:"Get entities\n"})})]}),(0,s.jsxs)(t,{children:[(0,s.jsx)("summary",{children:" What is the flag value we obtain ? "}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-plaintext",children:"asyjnrsp735asjdmopg735\n"})})]})]})]})}function p(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},89274:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/image_20260104-220445-1346e0d6e257c821323654aeec8db66f.png"},35767:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/image_20260104-220453-f8fb87705a1004de8512c81c83071b1c.png"},99465:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/image_20260105-220508-40fa50502a021634d747c38bda297cea.png"},61839:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/image_20260154-215412-6f2110f3a6e4d129341e93aeb9f33fe9.png"},15081:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/image_20260155-215538-337812b001ee9627b4d00998499711e1.png"},28453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>a});var t=i(96540);const s={},o=t.createContext(s);function r(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);