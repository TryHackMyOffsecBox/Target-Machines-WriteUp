"use strict";(self.webpackChunktarget_machines_write_up=self.webpackChunktarget_machines_write_up||[]).push([[7340],{66096:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>c,contentTitle:()=>o,default:()=>l,frontMatter:()=>a,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"HackTheBox/Battlegrounds/Cyber Mayhem/Circus","title":"Circus","description":"\u4fe1\u606f\u6536\u96c6","source":"@site/docs/HackTheBox/Battlegrounds/Cyber Mayhem/Circus.md","sourceDirName":"HackTheBox/Battlegrounds/Cyber Mayhem","slug":"/HackTheBox/Battlegrounds/Cyber Mayhem/Circus","permalink":"/Target-Machines-WriteUp/docs/HackTheBox/Battlegrounds/Cyber Mayhem/Circus","draft":false,"unlisted":false,"editUrl":"https://github.com/TryHackMyOffsecBox/Target-Machines-WriteUp/edit/main/docs/HackTheBox/Battlegrounds/Cyber Mayhem/Circus.md","tags":[],"version":"current","frontMatter":{},"sidebar":"HackTheBox_Sidebar","previous":{"title":"Amelia","permalink":"/Target-Machines-WriteUp/docs/HackTheBox/Battlegrounds/Cyber Mayhem/Amelia"},"next":{"title":"Creativity","permalink":"/Target-Machines-WriteUp/docs/HackTheBox/Battlegrounds/Cyber Mayhem/Creativity"}}');var r=s(74848),i=s(28453);const a={},o="Circus",c={},d=[{value:"\u4fe1\u606f\u6536\u96c6",id:"\u4fe1\u606f\u6536\u96c6",level:2},{value:"Port 8080 dev vhost",id:"port-8080-dev-vhost",level:2},{value:"Port 80 MyBB",id:"port-80-mybb",level:2}];function u(n){const e={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,i.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"circus",children:"Circus"})}),"\n",(0,r.jsx)(e.h2,{id:"\u4fe1\u606f\u6536\u96c6",children:"\u4fe1\u606f\u6536\u96c6"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:'Detected ss and lsof, executing related commands...\nPort: 22, PID: 727\n\u2014> Command: sshd: /usr/sbin/sshd -D [listener] 0 of 10-100 startups \nPort: 33060, PID: 815\n\u2014> Command: /usr/sbin/mysqld \nPort: 3306, PID: 815\n\u2014> Command: /usr/sbin/mysqld \nPort: 53, PID: 563\n\u2014> Command: /lib/systemd/systemd-resolved \n\n## \u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014 ##\n\nNginx is not installed.\n\n## \u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014 ##\n\nDetected apache, analyzing its configuration...\nFile: /etc/apache2/sites-enabled/mybb.conf\nDocumentRoot: /var/www/mybb\nHosts:\n10.10.110.101 circus.htb\n10.10.110.101 www.circus.htb\n\u2014\u2014\u2014\n\nUnique Hosts:\n\n10.10.110.101 circus.htb\n10.10.110.101 www.circus.htb\n\n## \u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014 ##\n\nChecking /etc/sudoers (active configurations only):\n  Defaults      env_reset\n  Defaults      mail_badpass\n  Defaults      secure_path="/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/snap/bin"\n  root  ALL=(ALL:ALL) ALL\n  %admin ALL=(ALL) ALL\n  %sudo ALL=(ALL:ALL) ALL\n\u2014\u2014\u2014\nFinding SUID files:\n/opt/cleaner\n/usr/lib/dbus-1.0/dbus-daemon-launch-helper\n/usr/lib/eject/dmcrypt-get-device\n/usr/lib/policykit-1/polkit-agent-helper-1\n/usr/lib/openssh/ssh-keysign\n/usr/bin/mount\n/usr/bin/sudo\n/usr/bin/gpasswd\n/usr/bin/umount\n/usr/bin/passwd\n/usr/bin/fusermount\n/usr/bin/chsh\n/usr/bin/at\n/usr/bin/chfn\n/usr/bin/newgrp\n/usr/bin/su\n\u2014\u2014\u2014\nFinding files with special capabilities:\n  /usr/lib/x86_64-linux-gnu/gstreamer1.0/gstreamer-1.0/gst-ptp-helper = cap_net_bind_service,cap_net_admin+ep\n  /usr/bin/ping = cap_net_raw+ep\n  /usr/bin/python2.7 = cap_setfcap+eip\n  /usr/bin/mtr-packet = cap_net_raw+ep\n  /usr/bin/traceroute6.iputils = cap_net_raw+ep\n\u2014\u2014\u2014\n'})}),"\n",(0,r.jsx)(e.h2,{id:"port-8080-dev-vhost",children:"Port 8080 dev vhost"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-php",metastring:'title="/var/www/dev/db.php"',children:'<?php\n\nfunction OpenCon(){\n        $dbhost = "localhost";\n        $dbuser = "web_data";\n        $dbpass = "UncrackablePassword123!";\n        $db = "dev_data";\n\n        $conn = new mysqli($dbhost, $dbuser, $dbpass,$db) or die("Connect failed: %s\\n". $conn -> error);\n        return $conn;\n}\n\nfunction CloseCon($conn){\n        $conn -> close();\n}\n\n?>\n'})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-php",metastring:'title="/var/www/dev/index.php"',children:"<?php\ninclude 'db.php';\n$db = OpenCon();\nif ($_SERVER['REQUEST_METHOD'] == 'POST') {\n\n  $stmt = $db->prepare('INSERT INTO users (name, email, password) VALUES (?, ?, ?)');\n  $stmt->bind_param('sss', $_POST['name'], $_POST['email'], $_POST['password']);\n\n  // Execute the insert statement\n  $stmt->execute();\n\n  // Redirect the user to the login page\n  header('Location: login.php');\n  exit;\n}\n\n?>\n"})}),"\n",(0,r.jsx)(e.p,{children:"sql \u67e5\u8be2\u7528\u4e86\u9884\u7f16\u8bd1\uff0c\u6ca1\u5565\u653b\u51fb\u7684\u53ef\u80fd\u6027"}),"\n",(0,r.jsx)(e.h2,{id:"port-80-mybb",children:"Port 80 MyBB"})]})}function l(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(u,{...n})}):u(n)}},28453:(n,e,s)=>{s.d(e,{R:()=>a,x:()=>o});var t=s(96540);const r={},i=t.createContext(r);function a(n){const e=t.useContext(i);return t.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:a(n.components),t.createElement(i.Provider,{value:e},n.children)}}}]);