"use strict";(self.webpackChunktarget_machines_write_up=self.webpackChunktarget_machines_write_up||[]).push([[5341],{2274:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>p,frontMatter:()=>r,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"Independent-Environment/RedLabs/LearningPaths/LOGIC APPS PWNER/LogicApp17/index","title":"Logic App 17 - Modify Workflow and Abuse Storage Blob","description":"Modify Workflow and Abuse Storage Blob","source":"@site/docs/Independent-Environment/RedLabs/LearningPaths/LOGIC APPS PWNER/LogicApp17/index.md","sourceDirName":"Independent-Environment/RedLabs/LearningPaths/LOGIC APPS PWNER/LogicApp17","slug":"/Independent-Environment/RedLabs/LearningPaths/LOGIC APPS PWNER/LogicApp17/","permalink":"/Target-Machines-WriteUp/docs/Independent-Environment/RedLabs/LearningPaths/LOGIC APPS PWNER/LogicApp17/","draft":false,"unlisted":false,"editUrl":"https://github.com/TryHackMyOffsecBox/Target-Machines-WriteUp/edit/main/docs/Independent-Environment/RedLabs/LearningPaths/LOGIC APPS PWNER/LogicApp17/index.md","tags":[],"version":"current","frontMatter":{},"sidebar":"Independent_Environment_Sidebar","previous":{"title":"Logic App 16 - Sensitive Info in Workflow","permalink":"/Target-Machines-WriteUp/docs/Independent-Environment/RedLabs/LearningPaths/LOGIC APPS PWNER/LogicApp16/"},"next":{"title":"Reversing.Kr","permalink":"/Target-Machines-WriteUp/docs/category/Reversing_Kr"}}');var t=i(74848),o=i(28453);const r={},c="Logic App 17 - Modify Workflow and Abuse Storage Blob",a={},d=[];function l(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h1:"h1",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components},{Details:s}=n;return s||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"logic-app-17---modify-workflow-and-abuse-storage-blob",children:"Logic App 17 - Modify Workflow and Abuse Storage Blob"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Modify Workflow and Abuse Storage Blob"}),"\n"]}),"\n",(0,t.jsxs)(n.admonition,{type:"info",children:[(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Scenario"})}),(0,t.jsx)(n.p,{children:"Sometimes the user whom we compromised can have permission to edit the workflow of the logic app. Abuse the permission of the user on the logic and read the flag from the blob."}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Overview"})}),(0,t.jsx)(n.p,{children:"What is logic app workflow?"}),(0,t.jsx)(n.p,{children:"A logic app workflow is a visual representation and implementation of a business process or integration scenario in Azure Logic Apps. It defines the steps, actions, and conditions that are executed in a specific sequence to automate a particular workflow."}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Hint"})}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"make use of the blob connector action."}),"\n"]}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Impact"})}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"With appropriate permissions in the logic app we could manipulate the logic app to interact with other services and perform malicious activity."}),"\n"]}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Reference"})}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://learn.microsoft.com/en-us/azure/logic-apps/logic-apps-overview",children:"Logic Apps Docs"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://learn.microsoft.com/en-us/azure/storage/blobs/storage-blobs-overview",children:"Storage Blob Docs"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://learn.microsoft.com/en-us/azure/logic-apps/designer-overview",children:"Logic App Workflow Designer"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://learn.microsoft.com/en-us/connectors/azureblob/",children:"Blob Storage Connector"})}),"\n"]})]}),"\n",(0,t.jsx)(n.p,{children:"\u9898\u76ee\u7ed9\u51fa\u4e86 UserCreds \u4fe1\u606f\uff0c\u767b\u9646\u67e5\u770b\u6240\u6709\u8d44\u6e90"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"img",src:i(18201).A+"",width:"2560",height:"1359"})}),"\n",(0,t.jsx)(n.p,{children:"\u7ecf\u8fc7\u63a2\u6d4b\uff0c\u5f53\u524d\u8d26\u6237\u6ca1\u6709\u64cd\u4f5c Blob Container \u7684\u6743\u9650"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"img",src:i(42435).A+"",width:"2560",height:"1359"})}),"\n",(0,t.jsx)(n.p,{children:"\u4f46\u662f\u501f\u52a9 Logic app \u7684\u6743\u9650\uff0c\u53ef\u4ee5\u5c1d\u8bd5\u83b7\u53d6 Blob Container \u7684\u6570\u636e"}),"\n",(0,t.jsx)(n.p,{children:"\u5728 Logic app \u4e2d\uff0c\u8fdb\u5165 Edit \u754c\u9762"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"img",src:i(12449).A+"",width:"2560",height:"1359"})}),"\n",(0,t.jsx)(n.p,{children:"\u5728\u5176\u4e2d\u65b0\u589e\u52a8\u4f5c"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"img",src:i(62252).A+"",width:"2560",height:"1359"})}),"\n",(0,t.jsx)(n.p,{children:"\u9009\u62e9 \u83b7\u53d6 Blob \u5185\u5bb9"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"img",src:i(56725).A+"",width:"2560",height:"1359"})}),"\n",(0,t.jsx)(n.p,{children:"\u8bbe\u7f6e\u6240\u8981\u8bfb\u53d6\u7684\u6570\u636e"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"img",src:i(85803).A+"",width:"2560",height:"1359"})}),"\n",(0,t.jsx)(n.p,{children:"\u7136\u540e\u5c06\u83b7\u5f97\u7684\u6570\u636e\u8fdb\u884c\u8f93\u51fa"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.img,{alt:"img",src:i(3357).A+"",width:"2560",height:"1359"}),"\u3001"]}),"\n",(0,t.jsx)(n.p,{children:"\u67e5\u770b\u89e6\u53d1\u5668\u7684 URL"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"img",src:i(25886).A+"",width:"2560",height:"1359"})}),"\n",(0,t.jsxs)(n.p,{children:["\u522b\u5fd8\u8bb0\u70b9\u51fb ",(0,t.jsx)(n.strong,{children:"Save"})," \u6309\u94ae\uff01\uff01"]}),"\n",(0,t.jsx)(n.p,{children:"\u5bf9\u5176\u8fdb\u884c\u8bf7\u6c42\uff0c\u5373\u53ef\u83b7\u5f97"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"img",src:i(30167).A+"",width:"1850",height:"1164"})}),"\n",(0,t.jsxs)(n.admonition,{title:"Flags",type:"info",children:[(0,t.jsxs)(s,{children:[(0,t.jsx)("summary",{children:" Which storage blob logic app connector (ignore the version) did we use to fetch the flag? (Get blob content or Get Messages) "}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-plaintext",children:"Get blob content\n"})})]}),(0,t.jsxs)(s,{children:[(0,t.jsx)("summary",{children:" What is the flag value we obtain ? "}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-plaintext",children:"assoqawv735aszrkqya735\n"})})]})]})]})}function p(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},18201:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/image_20260131-213136-a2376846b372c818a9856eefe3e45dc0.png"},42435:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/image_20260135-213549-7318031cea17bb9cdcfacb8e7847abf8.png"},12449:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/image_20260136-213641-f7e7fb1e75ccf175abc907fd71a82eec.png"},62252:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/image_20260137-213706-81479bd06b5afc56b5bd79875a4056cf.png"},56725:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/image_20260137-213754-614fd096042b1ff19c046dd173fbfd75.png"},85803:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/image_20260138-213850-cc6e9b4cf940dffca7c2d04b0e38e6fd.png"},3357:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/image_20260139-213921-f4396b70a2e1fed8c39a789c17053e4f.png"},25886:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/image_20260140-214000-980ebf28b44c455940994114ebd29cd7.png"},30167:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/image_20260141-214132-ba44c7297cb9b71a432b048a2dc64831.png"},28453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>c});var s=i(96540);const t={},o=s.createContext(t);function r(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);