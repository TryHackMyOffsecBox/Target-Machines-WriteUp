"use strict";(self.webpackChunktarget_machines_write_up=self.webpackChunktarget_machines_write_up||[]).push([[98465],{33822:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>p,frontMatter:()=>o,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"Independent-Environment/RedLabs/LOGIC APPS PWNER/LogicApp14/index","title":"Logic App 14 - Abuse Action and Storage Container Recovery","description":"Abuse Action and Storage Container Recovery","source":"@site/docs/Independent-Environment/RedLabs/LOGIC APPS PWNER/LogicApp14/index.md","sourceDirName":"Independent-Environment/RedLabs/LOGIC APPS PWNER/LogicApp14","slug":"/Independent-Environment/RedLabs/LOGIC APPS PWNER/LogicApp14/","permalink":"/Target-Machines-WriteUp/docs/Independent-Environment/RedLabs/LOGIC APPS PWNER/LogicApp14/","draft":false,"unlisted":false,"editUrl":"https://github.com/TryHackMyOffsecBox/Target-Machines-WriteUp/edit/main/docs/Independent-Environment/RedLabs/LOGIC APPS PWNER/LogicApp14/index.md","tags":[],"version":"current","frontMatter":{},"sidebar":"Independent_Environment_Sidebar","previous":{"title":"Logic App 13 - Abuse Action and Storage Container Version","permalink":"/Target-Machines-WriteUp/docs/Independent-Environment/RedLabs/LOGIC APPS PWNER/LogicApp13/"},"next":{"title":"Logic App 16 - Sensitive Info in Workflow","permalink":"/Target-Machines-WriteUp/docs/Independent-Environment/RedLabs/LOGIC APPS PWNER/LogicApp16/"}}');var i=t(74848),r=t(28453);const o={},c="Logic App 14 - Abuse Action and Storage Container Recovery",a={},d=[];function l(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h1:"h1",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components},{Details:s}=n;return s||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"logic-app-14---abuse-action-and-storage-container-recovery",children:"Logic App 14 - Abuse Action and Storage Container Recovery"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Abuse Action and Storage Container Recovery"}),"\n"]}),"\n",(0,i.jsxs)(n.admonition,{type:"info",children:[(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Scenario"})}),(0,i.jsx)(n.p,{children:"Logic apps use connectors that perform defined actions when triggered, which when misconfigured or when the trigger URL is exposed could reveal sensitive data. Abuse the storage blob connector and obtain the flag."}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Overview"})}),(0,i.jsx)(n.p,{children:"What is SAS URL (Shared Access Signature URL)?"}),(0,i.jsx)(n.p,{children:"A SAS URL (Shared Access Signature URL) is a URL that contains a shared access signature token. It allows secure access to specific resources within an Azure Storage account for a limited period, without requiring the account key. SAS URLs provide us with a way to grant granular access permissions to clients or applications without exposing the storage account keys."}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Hint"})}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Get deleted items."}),"\n"]}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Impact"})}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Previously soft-deleted sensitive files could contain sensitive data which could be used to increase the attack surface of the target."}),"\n"]}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Reference"})}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://learn.microsoft.com/en-us/azure/logic-apps/logic-apps-overview",children:"Logic Apps Docs"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://learn.microsoft.com/en-us/azure/storage/blobs/storage-blobs-overview",children:"Storage Blob Docs"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://azure.microsoft.com/en-in/products/storage/storage-explorer",children:"Azure Storage Explorer"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://learn.microsoft.com/en-us/azure/connectors/connectors-create-api-azureblobstorage?tabs=consumption",children:"Azure Blob Storage Connector"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://learn.microsoft.com/en-us/azure/storage/common/storage-sas-overview",children:"Shared Access Signature"})}),"\n"]})]}),"\n",(0,i.jsx)(n.p,{children:"\u9898\u76ee\u7ed9\u51fa\u4e86 TriggerURL \u548c ContainerSASURL"}),"\n",(0,i.jsx)(n.p,{children:"\u9996\u5148\u8fde\u63a5\u5230 Blob Container \u53d1\u73b0\u91cc\u9762\u6ca1\u6709\u6570\u636e"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"img",src:t(56716).A+"",width:"1971",height:"1332"})}),"\n",(0,i.jsx)(n.p,{children:"\u5c1d\u8bd5\u89e6\u53d1 TriggerURL"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"img",src:t(18320).A+"",width:"1537",height:"1153"})}),"\n",(0,i.jsx)(n.p,{children:"\u67e5\u770bBlob\u9897\u7c92\u7684\u8bbe\u7f6e"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"img",src:t(50011).A+"",width:"1971",height:"1332"})}),"\n",(0,i.jsx)(n.p,{children:"\u6062\u590d\u9009\u4e2d\u9879"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"img",src:t(1e3).A+"",width:"1971",height:"1332"})}),"\n",(0,i.jsx)(n.p,{children:"\u5373\u53ef\u5f97\u5230"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"img",src:t(85287).A+"",width:"1971",height:"1332"})}),"\n",(0,i.jsxs)(n.admonition,{title:"Flags",type:"info",children:[(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:" What was the data protection feature used by the storage container for blobs in this challenge? (blob versioning or soft delete) "}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-plaintext",children:"soft delete\n"})})]}),(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:" What is the flag value we obtain ? "}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-plaintext",children:"asohvmtl735asmcexhf735\n"})})]})]})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},56716:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/image_20260133-203347-db8eb7cc3ca64f786feb31bdee8b7012.png"},18320:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/image_20260134-203445-9000727006ddd2a5283f4a0b8c6c0bb0.png"},50011:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/image_20260135-203526-8126db0c9fe87d2602a11980d7c2e481.png"},1e3:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/image_20260136-203609-e4112da1a5652675a504ed386edecfc9.png"},85287:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/image_20260136-203641-1e374820e615483d0bbea187f3c2e827.png"},28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>c});var s=t(96540);const i={},r=s.createContext(i);function o(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);